<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["javascript"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a class="bodhi-logo" href="http://bodhi-space.github.io/slate/"> <img src="images/logo.png" /> </a>
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="getting-started">Getting Started</h1>

<p>This documentation is intended for the developer wanting to integrate into the Bodhi PaaS (Platform as a Service) and SaaS (Software as a Service) by:</p>

<ul>
<li>Building applications to the the Bodhi Cloud APIs</li>
<li>Building mobile/html applications either as standalone html applications or to be part of Bodhi Mobile</li>
<li>Building a data integration application into your point of sale system to be stored and accessed from our cloud solution</li>
</ul>

<h2 id="pre-requisites">Pre-requisites</h2>

<h4 id="creating-a-namespace">Creating a namespace</h4>

<p>Contact your Redbook Connect <a href="mailto:ayal.keren@redbookconnect.com">sales-team </a> or <a href="https://www.hotschedules.com/customer-care/">Customer Support </a> </p>

<h4 id="what-is-a-namespace?">What is a namespace?</h4>

<p>A namespace is your secured storage location of Red book Connectâ€™s cloud solution for your business.
Your namespace utilizes user profiles that are configured by your namespace administrator for different access levels to access your business data (e.g.stores, inventory, labor, and sales data)</p>

<h4 id="creating-your-namespace">Creating your namespace</h4>

<p>You need to provide two important details for Red Book Connect <a href="mailto:ayal.keren@redbookconnect.com">Representative</a>:</p>

<ul>
<li>Name</li>
<li>Email Address</li>
</ul>

<h4 id="accessing-the-api-documentation">Accessing the API documentation</h4>

<p>The API Documentation can be found at here: <a href="https://api.bodhi.space/apidocs/index.html">https://api.bodhi.space/apidocs/index.html</a>
To access them you need to login with your user and password provided by Hot Schedules.</p>

          <h1 id="bodhi-cloud">Bodhi Cloud</h1>

<h2 id="overview">Overview</h2>

<p>The Bodhi Cloud is a set of secure APIs that are used to store your data.  </p>

          <h2 id="getting-started">Getting Started</h2>

<p>To access the Bodhi Cloud API, you need to login with you user and password which is provided by Hot Schedules.  The API docs are available at this location: <a href="https://api.bodhi.space/apidocs/index.html">https://api.bodhi.space/apidocs/index.html</a>.  </p>

<p>If you enter your credentials (username and password) and click Explore, you will see a list of API which you can access for your namespace.  The Bodhi Cloud APIs are REST APIs which returns JSON for all responses.  </p>

<p>Each API has examples and an opportunity to <em><em>Try it out!</em></em>.  You can add data using our provided types or create your own type and add data.  NOTE: Should you create your own type, the new type will show up in the API Documentation for your namespace.</p>

          <h2 id="how-to">How To</h2>

<h4 id="bodhi-cloud-api-tutorials">Bodhi Cloud API Tutorials</h4>

<h5 id="overview">Overview</h5>

<p>These tutorials are designed to show a user how to log in, see all the users in a namespace, create a type, delete that type, and perform queries using the Bodhi Cloud APIs.  </p>

<h5 id="getting-started">Getting Started</h5>

<p><em>Prerequisites</em>: You will need your login credentials which are provided by your Hot Schedules representative.  </p>

<p>Logging in to the Bodhi API Documentation is the firs step in accessing and reviewing the Bodhi APIs as well as the various data types provided by default.  This set of tutorials are designed to show you how to login to the API Documentation, how to view, query and access the APIs and data types, and how to create new types.</p>

<p>The Bodhi Cloud API Documentation is a rich set of documentation geared towards REST API developers. The documetation is designed to both show the Bodhi&rsquo;s built-in types as well as shows your own custom types as well.  These simple tutorials are geared twoards showing how to use the documentation.  </p>

<h5 id="how-to">How To</h5>

<p><strong>How Do I Login to the Bodhi Cloud API Documentation?</strong></p>

<ul>
<li>Go to <a href="https://api.bodhi.space/apidocs/index.html">https://api.bodhi.space/apidocs/index.html</a></li>
<li>Login using the credentials provided to you from your Hot Schedules Representative:</li>
</ul>

<p><img title="Logging in to the Bodhi API Documentation" alt="CloudAPI_LogginIn" src="images/CloudAPI_LoggingIn.png?raw=true" /></p>

<p>Logging in to the Bodhi API Documentation</p>

<p><em>Note:</em> Once you are logged in with a valid username and password, you will see your Namespace auto-fill. </p>

<p><strong>How to access users in your namespace</strong></p>

<p>Once Logged In to the Bodhi Cloud Documentation, you can test out the REST APIs directly in your Namespace.  This tutorial will show you how to acess the users in your namespace and see what access rights each user has.  In order to see all the users of your Namespace, you should be logged in as an administrator.  </p>

<p>The following steps will show allow you to see the users in your Namespace and see what profile each user is assigned:
* Pre-requistes: Ensure you have logged in to your Namespace, see How Do I Login to the Bodhi Cloud API Documentation (above)
* Scroll down to the User type 
<img title="Scroll to User, Click User" alt="CloudAPI_ClickUser" src="images/CloudAPI_ClickUser.png?raw=true" /></p>

<p>Scroll to User, Click User</p>

<ul>
<li>Scroll to /Users</li>
<li>Click Get /Users to expose the REST APIs available for that type
<img title="Click GET /User" alt="CloudAPI_ClickGetUsers" src="images/CloudAPI_ClickGetUsers.png?raw=true" /></li>
</ul>

<p>Scroll to User, Click User</p>

<ul>
<li>Click Try it out!
<img title="Click Try it out!" alt="CloudAPI_ClickGetUsersTryItOut" src="images/CloudAPI_ClickUsersTryItOut.png?raw=true" /></li>
</ul>

<p>Click Try it out!</p>

<ul>
<li>Scroll through the JSON output and note various users assigned to your namespace NOTE: The same output can be obtained just for your login using the Me type and click Get /me, you will see all information about your username and access</li>
<li>Each user will have similar JSON as noted below, depending on their access, they may or may not have a <namespace>.admin profile.</li>
</ul>
<pre class="highlight plaintext"><code>"params": [
      "User",
      {
        "sys_created_at": "2015-02-20T21:19:11+0000",
        "profiles": [
          "&lt;your namespace&gt;.admin",
          "base.user",
          "base.user__system"
        ],
        "authorizations": [
          {
            "namespace": "&lt;your namespace&gt;",
            "read": true
          }
        ],
        "usertype": "person",
        "sys_id": "6cae6b8a-acd9-4a15-874e-73e933cd51af",
        "password": "$2a$12$fLpPr1dWs5ULE1He5m1dwOy3wQK8q3yqWvo/VUvNo37l.ZP51pP..",
        "sys_version": 2,
        "sys_modified_at": "2015-02-20T21:19:11+0000",
        "sys_modified_by": "system",
        "sys_namespace": "system",
        "email": "&lt;your email&gt;",
        "sys_created_by": "system",
        "username": "&lt;your username&gt;",
        "sys_type_version": 2
</code></pre>

          <h4 id="api-mechanics-tutorial">API Mechanics Tutorial</h4>

<h5 id="overview">Overview</h5>

<p>In this tutorial you will explore the basics of the bodhi api using the command line tool.</p>

<p><strong>Intended Audience</strong></p>

<p>This tutorial is designed for a new developer looking to understand how to interact with data. The tutorial assumes the developer has valid credentials for a namespace, the bodhi command line tool, and has set up their environment.</p>

<h5 id="how-to">How To</h5>

<p><strong>Resource Commands</strong></p>

<p>All resource commands take the following structure:
&ldquo;&rdquo;</p>

<blockquote>
<p>bodhi <action> [options] resources/:resource-name/[:id][?:query]
&ldquo;&rdquo;
Actions</p>
</blockquote>

<ol>
<li>get</li>
<li>count</li>
<li>post</li>
<li>put</li>
<li>post</li>
<li>delete</li>
</ol>

<p><strong>Resource URL&rsquo;s::</strong></p>

<p>All resource URL&rsquo;s should start with <code class="prettyprint">resources</code> and should take care not to prefix with the &rsquo;/&rsquo; character. The &rsquo;/&rsquo; character causes the cli to interpret the partial URL as absolute and will remove the namespace attributed.</p>

<p>A resource collection is referred to by <code class="prettyprint">resources/:resource</code>. A resource instance is referred to by <code class="prettyprint">resources/:resource/:id</code>.</p>

<p>Views</p>

<p>Each command has a default that it presents on response from the service. These views can be overwritten when the CLI is invoked using the the <code class="prettyprint">--view</code> option. The table below shows the default view bindings for each action.</p>

<table><thead>
<tr>
<th>view</th>
<th>defaults for</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>put, patch, delete</td>
<td>print just the status code</td>
</tr>
<tr>
<td>headers</td>
<td></td>
<td>print the headers and status code</td>
</tr>
<tr>
<td>location</td>
<td>post</td>
<td>print the value of the location header</td>
</tr>
<tr>
<td>id</td>
<td></td>
<td>print the id of the newly created object</td>
</tr>
<tr>
<td>entity</td>
<td>get</td>
<td>print the content returned by the server</td>
</tr>
<tr>
<td>all</td>
<td></td>
<td>print status, headers, and content</td>
</tr>
</tbody></table>

<p>Options</p>

<p>Below are a list of useful options when interacting with resources</p>

<p>option     |  description
&mdash;-       | &ndash;file     | file containing resource instance
&ndash;data     | describe the resource instance inline
&ndash;color    | print the response object with syntax highlighting
&ndash;flat     | print the response object without line breaks or indention</p>

<p><strong>Reading Resources</strong><br>
Reading a collection of Resources</p>

<p>Our first query will attempt to extract all the resources in a given collection using the get action.</p>
<pre class="highlight plaintext"><code>&gt; bodhi get resources/MyResource
</code></pre>

<p>Counting Resources</p>
<pre class="highlight plaintext"><code>&gt; bodhi get resources/MyResource/count
{ count: 3 }
</code></pre>

<p>The CLI exposes a shorthand for this command using the count action.</p>
<pre class="highlight plaintext"><code>&gt; bodhi count resources/MyResource
{ count: INTEGER }
</code></pre>

<p>Fetch a Resource by ID</p>
<pre class="highlight plaintext"><code>&gt; bodhi get resources/MyResource/:id
</code></pre>

<p>Fetch by unique Attribute</p>
<pre class="highlight plaintext"><code>&gt; bodhi get resources/MyResource/:id?where={\"name\":\"My-Name\"}
</code></pre>

<p><strong>Creating Resources</strong></p>

<p>Look inside the file resource.json to see the resource description.</p>
<pre class="highlight plaintext"><code>{
  name     : ""
  age      : 0,
  eligible : false,
}
</code></pre>

<p>You can create an instance of new resource instance by posting JSON data to the collection. The API will return the id of the newly created id in the form of a relative resource URI. The new resource to be created can be specified as a file using the -f &ndash;file option and pointing at the resource.json file.</p>
<pre class="highlight plaintext"><code>&gt; bodhi post resources/MyResource --file resource.json
:namespace/resources/MyResource/:id
</code></pre>

<p>If you supply the <code class="prettyprint">--view id</code> option then you will only see the new resource&rsquo;s id.</p>
<pre class="highlight plaintext"><code>{ eligible: true,
  age: 12,
  name: 'My Name',
  sys_namespace: 'namespace',
  sys_version: 1,
  sys_created_at: '2015-01-24T06:57:39+0000',
  sys_created_by: 'user_name',
  sys_type_version: 1,
  sys_id: 'de9a3e93-47fa-4537-a80d-3f3b49b446b1' }
</code></pre>

<p>Note there are a number of new system attributes that have been added to the resource. Those attributes are read only from an application perspective and are managed on your behalf by the system.</p>

<p>** Updating Resources**</p>

<p>The system supports two forms of update - replace and patch. When updating a resource it is not necessary to specify any of the system attributes (those that start with the prefix <code class="prettyprint">sys_</code>). Those attributes will be ignored by the API and will be updated by the service.</p>

<p>Replacing the Resource</p>

<p>A complete update is performed using a PUT. If the command succeeds then the newly specified resource will be assigned to the resource&rsquo;s id. A resource&rsquo;s attributes may be created, changed, or deleted using this action.</p>
<pre class="highlight plaintext"><code>&gt; bodhi put resources/MyResource/:id --file resource.json
  Success 204 No Content
</code></pre>
<pre class="highlight plaintext"><code>{ eligible: false,
  age: 12,
  name: 'my-name',
  sys_namespace: 'brian',
  sys_version: 3,
  sys_created_at: '2015-01-24T07:42:46+0000',
  sys_created_by: 'admin__brian',
  sys_type_version: 1,
  sys_id: 'd5aea468-f165-4d97-af16-7caba756ca43',
  sys_modified_at: '2015-01-24T08:18:57+0000',
  sys_modified_by: 'admin__brian' }
</code></pre>

<p>If you then access the record you will see the last modified time stamp has been changed and the instance_version will be incremented.</p>
<pre class="highlight plaintext"><code>&gt; bodhi get resource/MyResource/:id
  {
    ...
    sys_version    :  version++
    sys_modified_at: 'ISO-TS-FOR-NOW'
    sys_modified_by: 'your-user-id'
  }
</code></pre>

<p><strong>Deleting Resources</strong></p>

<p>Delete a Resource</p>

<p>Most of the time we will delete a resource by id. In this case we use a relative resource uri with an id at the end of the path. </p>
<pre class="highlight plaintext"><code>&gt; bodhi delete resources/MyResource/:id
Success 204 No Content
</code></pre>

<p>If an resource matching that id exists then you will receive an HTTP 204. If no resource with the specified id exists then the API will return a 404 Not Found status.</p>

<p>Delete the entire Collection</p>

<p>If you want to delete all resources in a particular collection the use the following command. </p>
<pre class="highlight plaintext"><code>&gt; bodhi delete resources/MyResource
Success 204 No Content
</code></pre>

<p>If the command returns successfully then you will receive an HTTP 204 and all the records will be deleted. You can verify the results of this command by trying to read the entire collection</p>
<pre class="highlight plaintext"><code>&gt; bodhi get resource/MyResource
[]
</code></pre>

<p>or by getting the count and verifying that it returns 0.</p>
<pre class="highlight plaintext"><code>&gt; bodhi count resources/MyResource
{count: 0}
</code></pre>

          <h4 id="type-mechanics-tutorial">Type Mechanics Tutorial</h4>

          <h1 id="bodhi-agent">Bodhi Agent</h1>

<h2 id="overview">Overview</h2>

<p>Bodhi Agent provides a single integration point that enables in-store and near-store data collection.</p>

<p>Bodhi provides real time bi-directional connections between the cloud and POS via
existing Macromatix Livelink and HotSchedules Connect integrations, as well as an
an in-store appliance and software agent.</p>

<p><strong>Bodhi is built on open standards and integrates with:</strong></p>

<ul>
<li>In-store data sources, such as POS systems, equipment, scheduling systems (e.g. HotSchedules) and sensors (e.g., thermometers, energy meters, batteries, HVAC)<br></li>
<li>Near-store apps (e.g. Yelp, weather data, traffic data, Facebook) and<br></li>
<li>Above-store apps such as inventory management, ordering systems (e.g.Macromatix), accounting) and other internet connected services<br></li>
</ul>

          <h2 id="getting-started">Getting Started</h2>

<p>Bodhi Agent provide a single integration point that enables in-store and near-store data collection. Bodhi agent is allowed you to integrate with in store data above store data and near store data. </p>

<p><img title="figure  2" alt="alt text" src="images/agentdiagram.png?raw=true" /><br>
figure 2</p>

          <h2 id="environment-setup">Environment Setup</h2>

<h3 id="installation">Installation</h3>

<p>The agent cli is installed via a platform specific installer or via node package manager (NPM). The cli prefers to be installed globally.</p>
<pre class="highlight plaintext"><code>$&gt; npm install -g agent-cli
</code></pre>

<h3 id="general-usage">General Usage</h3>

<p>The general structure of the a command is as follows:</p>
<pre class="highlight plaintext"><code>$&gt; npm install agent-cli [options] &lt;action&gt; [arguments]
</code></pre>

<h3 id="options">Options</h3>

<p>Options are prefixed with <code class="prettyprint">-</code> or <code class="prettyprint">--</code> to separate them from arguments. Each action defines the options it uses, but the options are consistent in naming and usage across the commands.</p>

<h3 id="common-options">Common Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;help</td>
<td>none</td>
<td>none</td>
<td>print help about the command</td>
</tr>
<tr>
<td>&ndash;verbose</td>
<td>-v</td>
<td>none</td>
<td>print more detailed output</td>
</tr>
<tr>
<td>&ndash;quiet</td>
<td>-q</td>
<td>none</td>
<td>print essential output</td>
</tr>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
<tr>
<td>&ndash;home</td>
<td>-h</td>
<td>path</td>
<td>specifies the agent&rsquo;s working directory</td>
</tr>
<tr>
<td>&ndash;force</td>
<td>-F</td>
<td>none</td>
<td>directive to override safety logic</td>
</tr>
</tbody></table>

<h3 id="arguments">Arguments</h3>

<p>The cli interprets the first argument (non-option) as the action. All subseuqent arguements are command specific. </p>

<p>Each action is described below</p>

<h3 id="informational-commands">Informational Commands</h3>

<h3 id="help">help</h3>

<p>The command line provides built in helper functions.</p>

<h3 id="navigation-help">Navigation Help</h3>

<p>For a descriptive list of the commands </p>
<pre class="highlight plaintext"><code>$&gt; npm install agent-cli --help
</code></pre>

<h3 id="action-specific-help">Action Specific Help</h3>

<p>Action specific help can be requested using the following structure.</p>
<pre class="highlight plaintext"><code>$&gt; npm install agent-cli &lt;action&gt; --help
</code></pre>

<h3 id="version">version</h3>

<p>Print version information.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli --version 
$&gt; agent-cli -V
</code></pre>

<p>The output is a simple version identifier following the semantic versioning rules of major, minor, and build.</p>
<pre class="highlight plaintext"><code>vM.m.b
</code></pre>

<h3 id="info">info</h3>

<p>CLI splash screen for the agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli info
</code></pre>

<h3 id="lifecycle-commands">Lifecycle Commands</h3>

<p>Lifecycle commands allow an administrator to change and check the run state of an agent.</p>

<h3 id="start">start</h3>

<p>Attempts to start an agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli start [options] 
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;verbose</td>
<td>-v</td>
<td>none</td>
<td>print more detailed output</td>
</tr>
<tr>
<td>&ndash;quiet</td>
<td>-q</td>
<td>none</td>
<td>print essential output</td>
</tr>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
<tr>
<td>&ndash;home</td>
<td>-h</td>
<td>path</td>
<td>specifies the agent&rsquo;s working directory</td>
</tr>
</tbody></table>

<h3 id="status">status</h3>

<p>Provides status about a running agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli status [options] 
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;verbose</td>
<td>-v</td>
<td>none</td>
<td>print more detailed output</td>
</tr>
<tr>
<td>&ndash;quiet</td>
<td>-q</td>
<td>none</td>
<td>print essential output</td>
</tr>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
</tbody></table>

<h3 id="stop">stop</h3>

<p>Gracefully shutdown the agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli stop [options] 
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;verbose</td>
<td>-v</td>
<td>none</td>
<td>print more detailed output</td>
</tr>
<tr>
<td>&ndash;quiet</td>
<td>-q</td>
<td>none</td>
<td>print essential output</td>
</tr>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
</tbody></table>

<h3 id="diagnostic-commands">Diagnostic Commands</h3>

<p>Diagnostic commands are used by an admin to troubleshoot an agent having trouble entering a running state or to test environmental specific details uniformly across platforms.</p>

<h3 id="check-core">check-core</h3>

<p>Used to check the version of agent-core being used and where that file is located on the file system.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli check-core [options]
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
</tbody></table>

<h3 id="check-config">check-config</h3>

<p>Used to check for configuration problems in the agent. The agent will load and process all configuration files, but will not enter into a ready state. This command is safe to run even if there is a currently running agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli check-cofig [options]
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
</tbody></table>

<h3 id="check-connection">check-connection</h3>

<p>Used to check for configuration problems in the agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli check-connection [options]
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
</tbody></table>

<p>The provided URL will go through the following checks:</p>

<ol>
<li>Check the URL format</li>
<li>Check the DNS resolution from the agent&rsquo;s host</li>
<li>Check the TCP port is reachable by opening up a connection on host:port</li>
<li>Issue a HTTP GET against the ping endpoint of the system</li>
</ol>

<h3 id="check-route">check-route</h3>

<p>Used to check for network problems (firewalls &amp; proxy rules) from the perspective of the agent runtime. </p>
<pre class="highlight plaintext"><code>$&gt; agent-cli check-route &lt;scheme://host:port/path&gt;
</code></pre>

<p>The provided URL will go through the following checks:</p>

<ol>
<li>Parse</li>
<li>DNS resolve of host/IP</li>
<li>TCP port reachable by opening up a connection on host:port</li>
<li>If scheme is http of https then issue a HTTP GET against the specified URL</li>
</ol>

          <h2 id="how-to">How To</h2>

<h4 id="installing-bodhi-agent">Installing Bodhi Agent</h4>

<p><strong>Agent Installer and Registration User Guide</strong></p>

<p>Welcome to the User Guide for Installing and registering the Bodhi agent</p>

<p><strong>System Requirements for computer</strong>
OS: Windows XP SP3, Windows 7, Windows 8.1<br>
Memory: 2GB or more<br>
Disk Space: 10 GB  </p>

<p><strong>System requirements for Mobile</strong>
iOS 7.x, 8.x<br>
Android 4.x<br>
Windows Phone</p>

<h5 id="step-1:-download-bodhi-installer-and-the-bodhi-mobile-application">Step 1: Download Bodhi Installer and the Bodhi Mobile Application</h5>

<p>Go to redbookconnect.bodhi.io to get the correct installer for your system</p>

<p><img title="figure  1" alt="alt text" src="images/agent_dl_01.png?raw=true" />
figure 1</p>

<p><strong>NOTE:</strong> if the system you are using to download the installer is not a Windows system you will get the Not Supported.</p>

<p>Just select the Windows system that matches the system you will be installer the Bodhi Agent on.</p>

<p>For the mobile applications here is where you can download them to your device.</p>

<p>Bodhi Mobile - iOS          Apple Apps Store<br>
Bodhi Mobile - Android      Google Play Store</p>

<h5 id="step-2:-run-the-installer">Step 2:  Run the installer</h5>

<ul>
<li>You will be presented with the Installer Welcome screen.<br></li>
<li>This will show the version number of the installer</li>
</ul>

<p><img title="figure  2" alt="alt text" src="images/agent_ver_01.png?raw=true" /><br>
figure 2</p>

<h5 id="step-3:-select-the-next-button-to-move-to-the-next-button">Step 3: Select the Next button to move to the next Button</h5>

<p><img title="figure  3" alt="alt text" src="images/agent_inst_01.png?raw=true" /><br>
figure 3</p>

<h5 id="step-4:-license-agreement-screen">Step 4:  License agreement screen</h5>

<ul>
<li>The user needs to agree to the user agreement before proceeding.</li>
</ul>

<p><img title="figure 4" alt="alt text" src="images/agent_legal_01.png?raw=true" /><br>
figure 4</p>

<p><strong>NOTE:</strong> the Next Button will be greyed out, until the, I accept the agreement radio button is selected.</p>

<h5 id="step-5:-select-the-i-accept-the-agreement-radio-button">Step 5:  Select the I accept the agreement Radio Button</h5>

<p><img title="figure 5" alt="alt text" src="images/agent_legal_02.png?raw=true" /><br>
figure 5</p>

<h5 id="step-6:-select-the-next-button">Step 6: Select the Next Button</h5>

<p><img title="figure 6" alt="alt text" src="images/agent_legal_03.png?raw=true" /><br>
figure 6</p>

<h5 id="step-7:-selecting-the-destination-location-for-the-agent">Step 7:  Selecting the Destination location for the Agent</h5>

<ul>
<li>A default destination location is already provided for the agent. </li>
</ul>

<p><img title="figure 7" alt="alt text" src="images/agent_dest_01.png?raw=true" /><br>
figure 7</p>

<p><strong>NOTE:</strong> If this destination location is OK, then select the Next Button.  </p>

<p><img title="figure 8" alt="alt text" src="images/agent_dest_02.png?raw=true" /><br>
figure 8</p>

<p><strong>Go to Step 8</strong></p>

<h6 id="step-7a:-if-you-wish-to-change-the-location-of-the-destination-location">Step 7a: If you wish to change the location of the destination location</h6>

<h6 id="7a.-select-the-browse-button">7a. Select the Browse Button</h6>

<p><img title="figure 9" alt="alt text" src="images/agent_dest_03.png?raw=true" /><br>
figure 9</p>

<h6 id="7b.-select-the-folder-you-wish-to-install-the-bodhi-agent-into-or-you-can-open-a-different-folder.">7b. Select the folder you wish to install the Bodhi Agent into or you can open a different folder.</h6>

<p><img title="figure 10" alt="alt text" src="images/agent_dest_04.jpg?raw=true" /><br>
figure 10</p>

<h6 id="7c.-after-you-have-selected-the-folder">7c. After you have selected the folder</h6>

<p><img title="figure 11" alt="alt text" src="images/agent_dest_05.jpg?raw=true" /><br>
figure 11</p>

<h6 id="7d.-select-the-ok-button">7d. Select the OK Button</h6>

<p><img title="figure 12" alt="alt text" src="images/agent_dest_06.jpg?raw=true" /><br>
figure 12  </p>

<p>The New destination location should be displayed  </p>

<p><img title="figure 13" alt="alt text" src="images/agent_dest_01.png?raw=true" /><br>
figure 13  </p>

<h6 id="7e.-select-the-next-button-to-continue">7e. Select the Next Button to continue</h6>

<p><img title="figure 14" alt="alt text" src="images/agent_dest_02.png?raw=true" /><br>
figure 14  </p>

<h5 id="step-8:-review-of-destination-location.">Step 8: Review of Destination location.</h5>

<ul>
<li>The destination location for the install is displayed.</li>
</ul>

<p><img title="figure 15" alt="alt text" src="images/agent_install_01.png?raw=true" /><br>
figure 15  </p>

<h5 id="step-9:-select-the-install-button">Step 9: Select the Install Button</h5>

<ul>
<li>If the Destination location is correct, then </li>
<li>Select the Install Button</li>
</ul>

<p><img title="figure 16" alt="alt text" src="images/agent_install_02.png?raw=true" /><br>
figure 16  </p>

<h5 id="9a.-a-progress-bar-will-be-displayed">9a. A Progress bar will be displayed</h5>

<p><img title="figure 17" alt="alt text" src="images/agent_install_03.png?raw=true" /><br>
figure 17  </p>

<h5 id="step-10:-completing-the-hotschedules-link-setup-wizard-page">Step 10: Completing the HotSchedules Link Setup Wizard page</h5>

<ul>
<li>After the Setup Wizard has completed, a checkbox is presented, by default it is selected.</li>
</ul>

<p><img title="figure 18" alt="alt text" src="images/agent_run_01.png?raw=true" /><br>
figure 18</p>

<h5 id="10a.-completing-the-hotschedules-link-install">10a. Completing the HotSchedules Link install</h5>

<ul>
<li>If no change is required, then Select the Finish Button<br></li>
</ul>

<p><img title="figure 19" alt="alt text" src="images/agent_finished_01.png?raw=true" /><br>
figure 19  </p>

<h5 id="10b.-command-line-interface-is-opened">10b. Command Line Interface is opened</h5>

<ul>
<li>A Diagnostics is run</li>
<li>The Windows Service is started</li>
<li>Follow the instructions to press any key to continue </li>
</ul>

<p><img title="figure 20" alt="alt text" src="images/agent_any_01.png?raw=true" /><br>
figure 20  </p>

<h5 id="10c.-the-command-line-window-should-close-and-you-will-be-at-the-desktop.">10c.  The command line window should close and you will be at the Desktop.</h5>

<p><img title="figure 21" alt="alt text" src="images/agent_desktop_01.png?raw=true" /><br>
figure 21  </p>

<h5 id="step-11:-register-the-agent-with-a-mobile-device">Step 11: Register the Agent with a Mobile Device</h5>

<ul>
<li>If you had selected to start the console at the end of the install, then the console will be started in the default browser.</li>
</ul>

<p><strong>Note:</strong> If your agent is not registered, it will be unable to send any data to the cloud</p>

<ul>
<li>A Registration Code will be displayed which is used to register the POS with the Mobile Device.</li>
</ul>

<p><img title="figure 22" alt="alt text" src="images/agent_active_01.png?raw=true" /><br>
figure 22  </p>

<p><strong>Note:</strong>  If the registration dialog is dismissed before registration
* Select the Registration Code Menu item on the left to redisplay it</p>

<p><img title="figure 23" alt="alt text" src="images/agent_reg_01.png?raw=true" /><br>
figure 23  </p>

<h5 id="step-12:-start-the-bodhi-mobile-app">Step 12: Start the Bodhi Mobile App</h5>

<ul>
<li>This is the Mobile Application that was downloaded earlier to your Mobile Device</li>
</ul>

<p><img title="figure 23" alt="alt text" src="images/iphone_home_01.png?raw=true" /><br>
figure 24  </p>

<h5 id="step-13:-enter-the-a-mobile-device">Step 13: Enter the a Mobile Device</h5>

<ul>
<li>Enter the UserID </li>
<li>Enter the Password </li>
<li>Select the Log in Button</li>
</ul>

<p><img title="figure 25" alt="alt text" src="images/app_login_01.png?raw=true" /><br>
figure 25  </p>

<h5 id="step-14:-select-the-pos-manager">Step 14: Select the POS Manager</h5>

<p><img title="figure 26" alt="alt text" src="images/pos_mgr_01.png?raw=true" /><br>
figure 26  </p>

<h5 id="step-15:-select-the-the-plus-sign-to-add-a-pos-to-the-manager">Step 15: Select the the Plus Sign to add a POS to the Manager</h5>

<p><img title="figure 27" alt="alt text" src="images/pos_mgr_02.png?raw=true" /><br>
figure 27  </p>

<h5 id="step-16:-select-a-store-to-associate-the-pos-with.">Step 16: Select a store to associate the POS with.</h5>

<p><img title="Flowers" alt="Flowers" src="images/pos_mgr_03.png?raw=true" />
figure 28  </p>

<h5 id="step-17:-enter-the-activation-code-that-is-displayed-in-the-browser.">Step 17: Enter the Activation code that is displayed in the Browser.</h5>

<p><img title="figure 29" alt="alt text" src="images/agent_active_02.png?raw=true" /><br>
figure 29  </p>

<h5 id="step-18:-select-the-request-button.">Step 18: Select the Request Button.</h5>

<p><img title="figure 30" alt="alt text" src="images/agent_active_03.png?raw=true" /><br>
figure 30  </p>

<h5 id="step-19:-verify-that-pos-agent-with-the-selected-store-and-is-displayed">Step 19: Verify that POS agent with the selected store and is displayed</h5>

<p><img title="figure 31" alt="alt text" src="images/agent_active_04.png?raw=true" /><br>
figure 31  </p>

<h5 id="step-20:-the-browser-will-display-the-console-dashboard">Step 20: The Browser will display the console dashboard</h5>

<ul>
<li>A Success message will briefly flash on the screen</li>
<li>The Registration Code Menu item will be removed</li>
<li>The Dashboard will be displayed</li>
</ul>

<p><img title="figure 32" alt="alt text" src="images/agent_console_01.png?raw=true" /><br>
figure 32  </p>

<h3 id="console-dashboard-legend">Console Dashboard Legend</h3>

<ol>
<li>This is the status of the agent (e.g. Online, Offline)<br></li>
<li>This changes the Left Menu from Icon Only to Icons and Text<br></li>
<li>This area displays if there are any agent updates available<br></li>
<li>This area displays any apps that the agent has loaded<br></li>
<li>This is the Customer Support information</li>
</ol>

<p><strong>Congratulations on your successful installation of Bodhi Agent</strong></p>

          <h4 id="creating-an-app">Creating an App</h4>

<h3 id="agent-app-structure">Agent App Structure</h3>

<p>You can create an application for the agent by following the steps below. </p>

<p>App Structure</p>

<p>Apps have 9 major categories:</p>

<ul>
<li>Descriptive Information</li>
<li>Logger Settings</li>
<li>App Settings</li>
<li>Extensions</li>
<li>Services</li>
<li>Sources</li>
<li>Pipelines</li>
<li>Handlers</li>
<li>The init function</li>
</ul>

<p>These categories are described below. </p>

<h3 id="starting-structure">Starting Structure</h3>

<ol>
<li>Create a file called app.js.</li>
<li>Insert the following code into the app.js file.</li>
</ol>
<pre class="highlight plaintext"><code>  //- Descriptive Information
  name   : 'app-name',
  version: '0.0.1',

  //- Logger Settings
  logger : {
    filename: 'logger-filename.log',
    level   : '' // The level of logging for the app
  },

  //- App Settings
  settings: [
    {property  : '',
     value     : ''},
  ],

  //- Extensions
  extensions: [
    {file      : ''}
  ],

  //- Services
  services: [
    {
     name     : '',
     provider : '',
    } 
  ],

  //- Sources
  sources: [
    { 
    name   : '',
    factory: '',
    provider: {
        bind: '',
        listen : '',
        close  : ''
      },
      bindings: {'eventName'}
    }
  ],

  //- Pipelines
  pipelines: [
    {
      name: 'name-of-pipeline',
      subscriptions: ['name-of-event-that-the-pipeline-subscribes-to'],
      steps: [
        {fn: 'extension:name-of-function', props: {key: 'value'},
        {fn: 'extension:name-of-function', props: {key: 'value'},
      ]
    }
  ],

  //- Handlers
  handlers: [
    name: 'name-of-handler',
    subscriptions: 'name-of-event-the-handler-subscribes-to',
    fn: '',
    props: { name: '$key:value' }

  ],

  //- init function, this function is executed after the agent is done with setup
  init: function(done) {
    // statements here
    done();
  }

}
</code></pre>

<h3 id="1.-descriptive-info">1. Descriptive Info</h3>

<p>This contains identification information for your app.</p>

<h5 id="sample">Sample</h5>
<pre class="highlight plaintext"><code>  name   : 'app-name',
  version: '0.0.1',
  dir    : '',
  enabled: 

</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Yes</td>
<td>Your name for the application</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Yes</td>
<td>The version number for the application</td>
</tr>
<tr>
<td>dir</td>
<td>string</td>
<td>Yes</td>
<td>Root filesystem path for the application</td>
</tr>
<tr>
<td>enabled</td>
<td>Boolean</td>
<td>Preferred</td>
<td>Whether the app is enabled or not</td>
</tr>
<tr>
<td>provider</td>
<td>string</td>
<td>Preferred</td>
<td>Your organization&rsquo;s name</td>
</tr>
</tbody></table>

<h3 id="2.-logger-info">2. Logger Info</h3>

<p>These properties determine the log filename and amount of detail that would be recorded to the log file. </p>

<p>The levels of logging are as follows, listed from the least amount of detail to the most.</p>

<ol>
<li>error</li>
<li>warning</li>
<li>info</li>
<li>verbose</li>
<li>debug</li>
</ol>

<p>Note: The logger cannot include a reference to the settings, since it is loaded prior to the settings.</p>

<h5 id="sample">Sample</h5>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>level</td>
<td>string</td>
<td>Yes</td>
<td>Your name for the application</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Yes</td>
<td>The version number for the application</td>
</tr>
</tbody></table>

<h3 id="3.-app-settings">3. App Settings</h3>

<p>Your app can have settings by declaring them within the settings object. These settings can then be used throughout your application&rsquo;s code. These values will take the highest precedence in the processing of settings. The precedence rules are:</p>

<ol>
<li>App.js settings object (highest precedence)</li>
<li>Any settings within the js/json files in the settings folder</li>
<li>Any settings added by an extension (lowest precedence)</li>
</ol>

<h5 id="sample">Sample</h5>
<pre class="highlight plaintext"><code>[ {property: 'keys:consumerKey', value: 'wWbo8MBQ0nQ' },
  {property: 'rootPath', value: path.join(process.cwd(), 'input') }]
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>property</td>
<td>string</td>
<td>Yes</td>
<td>Your name for your property</td>
</tr>
<tr>
<td>value</td>
<td>string, function, Boolean, number, object</td>
<td>Yes</td>
<td>The value of your setting</td>
</tr>
</tbody></table>

<h3 id="4.-extensions">4. Extensions</h3>

<p>Your application may use one or more extensions. Extensions can provide potential configuration components or actual runtime components. Extensions are a good way to design resuable components that can be shared and reused across projects. </p>

<h5 id="sample">Sample</h5>
<pre class="highlight plaintext"><code>extensions: [ file: {}]
</code></pre>

<p>Extensions are loaded in the order in which they are specified. </p>

<h3 id="5.-services">5. Services</h3>

<p>Your app can contain a service. A service is an object that represents a concrete extension of the API.</p>

<h5 id="sample">Sample</h5>
<pre class="highlight plaintext"><code>[ { name: 'keys:consumerKey', value: 'wWbo8MBQ0nQ' },
  {property: 'rootPath', value: path.join(process.cwd(), 'input') }]
</code></pre>

<h5 id="specification">Specification</h5>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Yes</td>
<td>Your name of your service</td>
</tr>
<tr>
<td>provider</td>
<td>string</td>
<td>Yes</td>
<td>A function or reference to a plugin that creates an object</td>
</tr>
<tr>
<td>args</td>
<td>array of strings, functions, objects, booleans</td>
<td>Optional</td>
<td>a list of the dependencies used by the service</td>
</tr>
<tr>
<td>factory</td>
<td>string (constructor, function, literal)</td>
<td>Optional</td>
<td>An enumeration that describes alternate instantiation behavior for the service</td>
</tr>
</tbody></table>

<h5 id="implicit-properties">Implicit Properties</h5>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>this.name</td>
<td>the name of the service</td>
</tr>
<tr>
<td>this.logger</td>
<td>A reference to the context&rsquo;s logger</td>
</tr>
<tr>
<td>this.publish</td>
<td>a handle to publish a message to the context</td>
</tr>
</tbody></table>

<h3 id="6.-sources">6. Sources</h3>

<p>A source is an object that sources external events. By creating a source, you can bind events to listeners and start functions and pipelines once the events have been emitted.</p>

<h5 id="sample">Sample</h5>
<pre class="highlight plaintext"><code>[ {
   name: 'sampleSource',
   provider: 'compris:dir',
   args: ['$settings:rootPath'],
   bindings: { 'created' : 'read' }
   } ]
</code></pre>

<h5 id="specification">Specification</h5>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Yes</td>
<td>Your name of your service</td>
</tr>
<tr>
<td>provider</td>
<td>string</td>
<td>Yes</td>
<td>A function or reference to a plugin that creates an object</td>
</tr>
<tr>
<td>args</td>
<td>array of strings, functions, objects, booleans</td>
<td>Optional</td>
<td>a list of the dependencies used by the service</td>
</tr>
<tr>
<td>factory</td>
<td>string (constructor, function, literal)</td>
<td>Optional</td>
<td>An enumeration that describes alternate instantiation behavior for the service</td>
</tr>
</tbody></table>

          <h4 id="extending-the-agent">Extending the Agent</h4>

<h3 id="concept">Concept</h3>

<p>An Extension is an Object that adds on reusable configuration elements. These configuration elements are call plugins. An extension may provide one or more plugins to the agent or an application. Plugins are used to build runtime components (Sources, Services, Pipelines, Handlers, etc). Extensions are meant to be small reusable chuncks of code that follow in the tradition of Node Modules but conform to a specific interface so they can be loaded by node.js an the agent.</p>

<h3 id="specification">Specification</h3>

<p>An extension must be formally specified in an app or agent configuration file.</p>

<h3 id="spec-rules">Spec Rules</h3>

<ul>
<li>An Extension specification MUST include a module or a file key</li>
<li>A module and file attributes are mutually exclusive</li>
<li>An Extension specification MAY include (configuration) options</li>
</ul>
<pre class="highlight plaintext"><code>extensions: [     
  { module : 'module-id', options : {enabled : true, silent: true}},
  { file   : './path/to/file', options : {env : debug}},
],
</code></pre>

<p><strong>Notes on the module id</strong></p>

<p>Module and file really do the same thing. They are both included for semantic reasons. In general, they are used as follows:</p>

<ul>
<li>module indicates this is a packaged module resolves using the node module algorithm living (most likely) in the node_modules folder of the agent or app directory.</li>
<li>file points at a at a JS file that exports a proper extension interface, the root directory of a CommonJS package (the directory containing the package.json</li>
</ul>

<h3 id="options">Options</h3>

<p>An extension may receive options at attachment time. Options provide a means for declaring environment specific configuration data to the extension. </p>

<p><strong>Note</strong>: Options are not resolved so they SHOULD NOT include references.</p>

<h3 id="resolution-rules">Resolution Rules</h3>

<ul>
<li>A file path is resolved relative to the specifying containers home directory</li>
<li>A module or file path that points at a CommonJS package will use the main file or index.js as the extension entry point</li>
</ul>

<p>For complete detailed information check out the <a href="http://nodejs.org/api/modules.html">nodejs docs</a> </p>

<h3 id="visibility-rules">Visibility Rules</h3>

<ul>
<li>If the extension is loaded by the agent then the agent and all applications can use the extensions plugins. </li>
<li>If the extension is declared by the app then only the app can use the extension&rsquo;s plugins.</li>
<li>If the extension is declared by both the app and the agent the app will use the plugins provided by the extension declared by the app.</li>
</ul>

<h3 id="implementation">Implementation</h3>

<ul>
<li>An Extension MUST declare a name</li>
<li>An Extension SHOULD declare a version</li>
<li>An Extension MAY declare a description</li>
<li>An Extension MAY declare a provider</li>
<li>An Extension MUST be either and object of a function that produces an object</li>
<li>An Extension MUST expose a method named attach that takes a call callback</li>
</ul>

<h3 id="prototypical-extension">Prototypical Extension</h3>
<pre class="highlight plaintext"><code>module.exports = {

    name    : 'my-extension',
    version : 'major.minor.patch',
    provider: 'my organization',

    attach: function(options, callback){
        }   
}
</code></pre>

<h3 id="prototypical-extension-module">Prototypical Extension Module</h3>
<pre class="highlight plaintext"><code>module.extension = function(){
        'use strict';
    return {
        ... prototypical extension
    }
}
</code></pre>

<h3 id="binding-mechanism">Binding Mechanism</h3>

<p>The attach method adds plugins to a particular container</p>

<h3 id="attach-signature">Attach Signature</h3>
<pre class="highlight plaintext"><code>attach(options, function(err))
</code></pre>

<table><thead>
<tr>
<th>argument</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>options</td>
<td>object</td>
<td>optional</td>
<td>provides the env specific configurations</td>
</tr>
<tr>
<td>callback</td>
<td>function</td>
<td>required</td>
<td>provides a way of returning an runtime error to the container</td>
</tr>
</tbody></table>

<p>Callback takes the form of cb(err). The callback MUST be called.</p>

<h3 id="context">Context</h3>

<p>The value of <code class="prettyprint">this</code> provides the mechanism for adding plugins to the container. <code class="prettyprint">this</code> provides the following binding method:</p>
<pre class="highlight plaintext"><code>this.registerPlugin(namespace, plugin)
</code></pre>

<table><thead>
<tr>
<th>argument</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>namespace</td>
<td>string, array</td>
<td>required</td>
<td>unique naming</td>
</tr>
<tr>
<td>plugin</td>
<td>object or function</td>
<td>required</td>
<td>provides a way of returning an runtime error to the container</td>
</tr>
</tbody></table>

<h3 id="prototypical-attachment">Prototypical Attachment</h3>
<pre class="highlight plaintext"><code>   attach: function(options, callback){
    var container = this;
    try{
             container.registerPlugin(namespace, object)
             container.registerPlugin([ns, ns, ns], object)
             callback &amp;&amp; callback()
    } catch (err){
         callback &amp;&amp; callback(err)
    }
   }    
</code></pre>

          <h2 id="tooling">Tooling</h2>

<h4 id="agent-console">Agent Console</h4>

<p>The Agent Console is the application that users can use to manage their Agent&rsquo;s functionality and settings. The following sections describe how to use the Agent Console.</p>

<h3 id="getting-started">Getting Started</h3>

<p>The Agent must be running for you to access the Agent Console. You can access the Agent Console by going to <a href="http://localhost:4444">http://localhost:4444</a> in your browser. If you installed the Agent for the first time, the console will automatically start if you selected the &ldquo;Start Console&rdquo; option during the installation.</p>

<p><em>Note: Agent Console works best in Google Chrome or Mozilla Firefox.</em></p>

<h3 id="registering-your-agent">Registering Your Agent</h3>

<p>Upon entering the console for the first time, you should see a registration token pop up. This six-digit registration code needs to be entered into your Bodhi Mobile App to connect your Agent to your Bodhi Mobile App and to the Bodhi Cloud. Once you&rsquo;ve successfully entered the token into the Bodhi Mobile App, the window will display a &ldquo;SUCCESS&rdquo; message and close. </p>

<p><strong>Important</strong>: If the window pops up and you don&rsquo;t see a token, wait 10 seconds and refresh your browser. If the window doesn&rsquo;t pop up, click on the Registration Code link (see circle #1)in the left navigation bar to open the window.</p>

<p><img alt="image" src="http://redbookconnect.github.io/docs/console/registrationcode.png" /></p>

<p><em>The registration code should be entered in your Bodhi Mobile App.</em></p>

<h3 id="dashboard">Dashboard</h3>

<p>The Dashboard displays Agent software updates, your installed Agent Apps, and Customer Support information. </p>

<p>Note that clicking the three lines next to the Bodhi Agent icon (see circle #1) will enable you to minimize or expand the navigation bar.</p>

<p>In the top right corner, you can see the Agent&rsquo;s connection status to the Internet (either Online or Offline, see circle #2).</p>

<p><img alt="image" src="http://redbookconnect.github.io/docs/console/dashboard.png" />
<em>Screenshot: Agent Console Dashboard Page</em></p>

<h3 id="integration-apps">Integration Apps</h3>

<p>On the Integration Apps page, you can view and install Agent Apps that are available in the Bodhi App Store. You can install apps with one click by clicking the &ldquo;Install Now&rdquo; button. Upon clicking it, the app will start installing. When it has finished installing, you will see a green &ldquo;Installed&rdquo; button.</p>

<p><em>Note: If you receive an red error message, then the App could not be found. Make sure you are connected to the internet and if you continue to have errors, contact Customer Support.</em></p>

<p><img alt="image" src="http://redbookconnect.github.io/docs/console/integrationapps.png" />
<em>Screenshot: Agent Console Integration Apps Page</em></p>

<h3 id="settings">Settings</h3>

<p>On the Settings page, you can change settings that will determine how your Agent operates.</p>

<table><thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Agent Name</td>
<td>Changes the Agent&rsquo;s name</td>
</tr>
<tr>
<td>Role</td>
<td>Determines the package bundles that the Agent will install</td>
</tr>
<tr>
<td>Timezone</td>
<td>Sets the timezone</td>
</tr>
<tr>
<td>Currency</td>
<td>Sets the currency for your Store</td>
</tr>
</tbody></table>

<p><img alt="image" src="http://redbookconnect.github.io/docs/console/agentsettings.png" />
<em>Screenshot: Agent Console Settings Page</em></p>

<h3 id="connection">Connection</h3>

<p>The Connection page displays important information about the Agent&rsquo;s connection details. The Connection panel displays connection status information for the Agent and the right-hand panel lists the connection protocols available to the Agent.</p>

<table><thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Status</td>
<td>Displays the Agent&rsquo;s connection to the Internet (Online/Offline)</td>
</tr>
<tr>
<td>Base</td>
<td>Lists the full URI path to the Bodhi Cloud</td>
</tr>
<tr>
<td>Endpoint URL</td>
<td>Lists the Endpoint URL that the Agent is connected to</td>
</tr>
<tr>
<td>Online Since</td>
<td>Lists the date &amp; time since the Agent has been running</td>
</tr>
<tr>
<td>Interruptions</td>
<td>Lists the number of times the Agent had interrupted connections to the Internet</td>
</tr>
</tbody></table>

<p><img alt="image" src="http://redbookconnect.github.io/docs/console/connection.png" />
<em>Screenshot: Agent Console Connection Page</em></p>

<h3 id="about">About</h3>

<p>The About page displays information about your Agent&rsquo;s status. The Bodhi Agent panel lists information about your Agent&rsquo;s identity and structure, and the right-hand panel lists the plug-ins that are available to your Agent.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Status</td>
<td>Displays the Agent&rsquo;s connection to the Internet (Online/Offline)</td>
</tr>
<tr>
<td>Name</td>
<td>Your Agent&rsquo;s display name</td>
</tr>
<tr>
<td>Version</td>
<td>The version number of the Agent</td>
</tr>
<tr>
<td>Agent Directory</td>
<td>Lists the directory path where the Agent is installed</td>
</tr>
<tr>
<td>Namespace</td>
<td>Your identifying space in the HS Bodhi Cloud</td>
</tr>
<tr>
<td>Agent ID</td>
<td>The unique identifier for the Agent</td>
</tr>
<tr>
<td>Authorization</td>
<td>Displays whether your Agent is authorized to connect to Bodhi Cloud <em>(checkmark means authorized)</em></td>
</tr>
<tr>
<td>Assigned</td>
<td>Displays whether your Agent has been assigned a Store in the Bodhi Cloud <em>(checkmark means assigned)</em></td>
</tr>
<tr>
<td>Extensions</td>
<td>Lists the extensions available to the Agent (see <a href="http://redbookconnect.github.io/slate/#extending-the-agent">Extensions</a>)</td>
</tr>
<tr>
<td>Services</td>
<td>Lists the services implemented within the Agent</td>
</tr>
<tr>
<td>Handlers</td>
<td>Lists the event handlers implemented in the Agent</td>
</tr>
<tr>
<td>Dependencies</td>
<td>Lists the NPM packages that the Agent is dependent upon</td>
</tr>
</tbody></table>

<p><img alt="image" src="http://redbookconnect.github.io/docs/console/about.png" /> 
<em>Screenshot: Agent Console About Page</em></p>

          <h4 id="agent-cli">Agent-CLI</h4>

<p>The agent-cli provides administrators, support team members, and developers a tool for interacting with an agent.</p>

<h5 id="general-usage">General Usage</h5>

<p>The general structure of the agent-cli commands are as follows:</p>
<pre class="highlight plaintext"><code>c:agent-cli [options] &lt;action&gt; [arguments]
</code></pre>

<h6 id="options">Options</h6>

<ul>
<li>  Options are prefixed with <code class="prettyprint">-</code> or <code class="prettyprint">--</code> to separate them from arguments. </li>
<li>  Each command or action defines the options it uses. </li>
<li>  <strong>NOTE:</strong> the options are consistent in naming convention and usage across the commands.</li>
</ul>

<h6 id="common-options">Common Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>none</td>
<td>&ndash;help</td>
<td>none</td>
<td>print help about the command</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>-v</td>
<td>none</td>
</tr>
<tr>
<td>-q</td>
<td>&ndash;quiet</td>
<td>none</td>
<td>print essential output</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>filename</td>
<td>fully qualified path of the agent&rsquo;s configuration file to use</td>
</tr>
<tr>
<td>-h</td>
<td>&ndash;home</td>
<td>path</td>
<td>fully qualified path of the agent&rsquo;s working directory</td>
</tr>
<tr>
<td>-F</td>
<td>&ndash;force</td>
<td>none</td>
<td>directive to override safety logic</td>
</tr>
</tbody></table>

<h6 id="arguments">Arguments</h6>

<ul>
<li>  The agent-cli interprets the first argument (non-option) as the action command. </li>
<li>  All subsequent arguments are command specific. </li>
</ul>

<p>The commands are grouped into a sub group.
The following Commands groups are;</p>

<ul>
<li><strong>Informational Commands</strong></li>
<li><strong>Lifecycle Commands</strong></li>
<li><strong>Diagnostic Commands</strong></li>
<li><strong>Usage Commands</strong></li>
<li><strong>Configuration Commands</strong></li>
<li><strong>Update Commands</strong></li>
</ul>

<h5 id="informational-commands">Informational Commands</h5>

<h6 id="help">help</h6>

<p>The command line provides built in helper functions.</p>

<h6 id="navigation-help">Navigation Help</h6>

<p>For a descriptive list of the commands </p>
<pre class="highlight plaintext"><code>c:agent-cli --help
</code></pre>

<h6 id="version">version</h6>

<p>Displays the version information of the agent-cli.</p>
<pre class="highlight plaintext"><code>c: agent-cli -V
c: agent-cli --version 
</code></pre>

<p><strong>NOTE:</strong> The output is a simple version identifier following the semantic versioning rules of major, minor, and build.</p>
<pre class="highlight plaintext"><code>Major.minor.build (e.g. 1.0.51)
</code></pre>

<h6 id="info">info</h6>

<p>Used to display information of the Agent-CLI.</p>

<ul>
<li>Displays the agent-cli splash screen</li>
<li>Displays the version of the agent-cli</li>
<li>Displays the working directory of the agent</li>
</ul>
<pre class="highlight plaintext"><code>c:agent-cli info
</code></pre>

<h6 id="lifecycle-commands">Lifecycle Commands</h6>

<p>Lifecycle commands allow an administrator to change and check the run state of an agent.</p>

<h6 id="start">start</h6>

<p>Used to attempt to start an agent.</p>

<ul>
<li>Allows the selection of which agent configuration file to use</li>
<li>Allows the selection of the agent working directory</li>
<li>Allows the selection of the agent pidFile to use</li>
<li>Allows the setting of the level of detail to output</li>
</ul>
<pre class="highlight plaintext"><code>c: agent-cli start [options] 
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>filename</td>
<td>fully qualified filename of the agent&rsquo;s configuration file to use</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;home</td>
<td>directory path</td>
<td>fully qualified path of the agent&rsquo;s working directory</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;pidFile</td>
<td>filename</td>
<td>fully qualified filename of the agent&rsquo;s pidFileagent-cli</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>provides more detailed information output</td>
</tr>
<tr>
<td>-q</td>
<td>&ndash;quiet</td>
<td>none</td>
<td>provides only essential information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli start -h
c:agent-cli start â€”-help
c:agent-cli start -f c:\BodhiAgent\agent1.js
c:agent-cli start â€”-config c:\BodhiAgent\agent1.js
c:agent-cli start â€”-home c:\
c:agent-cli start â€”-pidFile c:\BodhiAgent\agent.pid
c:agent-cli start -v
c:agent-cli start â€”verbose
c:agent-cli start -q
c:agent-cli start â€”-quiet
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Error: connect EADDRNOTAVAIL</td>
<td>the connection url  in the configuration file is bad</td>
</tr>
<tr>
<td>error: unknown option &lsquo;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="status">status</h6>

<p>Used to retrieve the status of a running agent.</p>

<ul>
<li>Allows the selection of the agent configuration file to use</li>
<li>Allows the setting of the level of detail to output</li>
</ul>
<pre class="highlight plaintext"><code>c: agent-cli status [options] 
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>filename</td>
<td>fully qualified filename of the agent&rsquo;s configuration file to use</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli status â€”h
c:agent-cli status â€”-help
c:agent-cli status -f c:\BodhiAgent\agent1.js
c:agent-cli status â€”-config c:\BodhiAgent\agent1.js
c:agent-cli status -v
c:agent-cli status â€”verbose
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agent available</td>
<td>agent is running and available</td>
</tr>
<tr>
<td>agent unavailable</td>
<td>agent has stopped</td>
</tr>
<tr>
<td>agent unable to start using fully qualified configuration path</td>
<td>No configuration file at fully qualified configuration path</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="stop">stop</h6>

<p>Used to gracefully stop or shutdown an agent.</p>

<ul>
<li>Allows the selection of the agent configuration file to use</li>
<li>Allows the setting of the level of detail to output</li>
</ul>
<pre class="highlight plaintext"><code>c:agent-cli stop [options] 
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>filename</td>
<td>fully qualified filename of the agent&rsquo;s configuration file to use</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli stop â€”h
c:agent-cli stop â€”-help
c:agent-cli stop -f c:\BodhiAgent\agent1.js
c:agent-cli start â€”-config c:\BodhiAgent\agent1.js
c:agent-cli start -v
c:agent-cli start â€”verbose
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agent stopping now &hellip;</td>
<td>agent is shutting down gracefully updated</td>
</tr>
<tr>
<td>agent is unavailable</td>
<td>agent is stopped</td>
</tr>
<tr>
<td>agent unable to start using fully qualified configuration path</td>
<td>No configuration file at fully qualified configuration path</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="set-name">set-name</h6>

<p>Used to configure the name of an agent.</p>

<ul>
<li>Allows the setting of the name of the agent</li>
<li>Allows the selection of the agent configuration file to use</li>
<li>Allows the setting of the level of detail to output</li>
</ul>
<pre class="highlight plaintext"><code>c:agent-cli set-name [options] &lt;name&gt;
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>filename</td>
<td>fully qualified filename of the agent&rsquo;s configuration file to use</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli set-name â€”h
c:agent-cli set-name â€”-help
c:agent-cli set-name Fred
c:agent-cli set-name -f c:\BodhiAgent\agent1.js Teddy
c:agent-cli set-name â€”config c:\BodhiAgent\agent1.js Herb
c:agent-cli set-name -v Fred
c:agent-cli set-name --verbose Fred
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agent updated</td>
<td>the configuration file has be successfully updated</td>
</tr>
<tr>
<td>No agent available at <location></td>
<td>there is no agent configuration file at the specific location</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="set-connection">set-connection</h6>

<p>Used to configure a connection to an agent.</p>

<ul>
<li>Allows the setting of the http url for the connection</li>
<li>Allows the selection of the agent configuration file to use</li>
<li>Allows the setting of the timeout value</li>
<li>Allows the setting of the proxy http url</li>
<li>Allows the setting of the level of detail to output</li>
</ul>
<pre class="highlight plaintext"><code>c: agent-cli set-connection [options] connection]
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>filename</td>
<td>fully qualified filename of the agent&rsquo;s configuration file to use</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;timeout</td>
<td>value</td>
<td>specifies the connections timeout value</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;proxy</td>
<td>proxy</td>
<td>specifies the http proxy url</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli set-connection â€”h
c:agent-cli set-connection â€”-help
c:agent-cli set-connection https://api.redbookcloud.com
c:agent-cli set-connection -f c:\BodhiAgent\agent1.js
c:agent-cli set-connection â€”-config c:\BodhiAgent\agent1.js
c:agent-cli set-connection --timeout 20000
c:agent-cli set-connection â€”-proxy http://proxy.redbookcloud.com
c:agent-cli set-connection -v https://api.redbookcloud.com
c:agent-cli set-connection --verbose https://api.redbookcloud.com
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agent updated</td>
<td>the agent configuration file has be successfully updated</td>
</tr>
<tr>
<td>No agent available at <location></td>
<td>there is no agent configuration file at the specific location</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="set-logger">set-logger</h6>

<p>Used to configure the logging of an agent.</p>

<ul>
<li>  Allows the setting of the log file location </li>
<li>  Allows the selection of the agent configuration file to use</li>
<li>  Allows the setting of the level of logging information</li>
<li>  Allows the setting of the level of detail to output</li>
</ul>
<pre class="highlight plaintext"><code>c: set-logger [options
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>filename</td>
<td>fully qualified path of the agent&rsquo;s configuration file to use</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;file</td>
<td>filename</td>
<td>fully qualified filename of the the log file location</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;level</td>
<td>level</td>
<td>specifies the log level (error, warn, info, verbose, debug)</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli set-logger â€”h
c:agent-cli set-logger â€”-help
c:agent-cli set-logger Fred
c:agent-cli set-logger -f c:\BohiAgent\agent1.js
c:agent-cli set-logger â€”-file c:\BodhiAgent\test.log
c:agent-cli set-logger -f c:\BohiAgent\agent1.js
c:agent-cli set-logger --level error
c:agent-cli set-logger â€”-level warn
c:agent-cli set-logger â€”-level info
c:agent-cli set-logger â€”-level verbose
c:agent-cli set-logger â€”-level debug
c:agent-cli set-logger -v
c:agent-cli set-logger â€”-verbose
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agent updated</td>
<td>the agent configuration file has be successfully updated</td>
</tr>
<tr>
<td>No agent available at <location></td>
<td>there is no agent configuration file at the specific location</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="set-management">set-management</h6>

<p>Used to configure the management endpoint for an agent.</p>

<ul>
<li>  Allows the setting of the log file location </li>
<li>  Allows the selection of the agent configuration file to use</li>
<li>  Allows the setting of the http port</li>
<li>  Allows the setting of the http address to listen on</li>
<li>  Allows the setting of the level of detail to output</li>
</ul>
<pre class="highlight plaintext"><code>c: set-management [options]
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>filename</td>
<td>fully qualified path of the agent&rsquo;s configuration file to use</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;port</td>
<td>port address</td>
<td>specifies the management http port address</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;connection</td>
<td>url:port</td>
<td>specifies the mnagement url and port address</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli set-management https://api.bodhi.space
c:agent-cli set-management â€”h
c:agent-cli set-management â€”-help
c:agent-cli set-management -f c:\BodhiAgent\agent1.js
c:agent-cli set-management â€”-config c:\BodhiAgent\agent1.js
c:agent-cli set-management â€”-port 4444
c:agent-cli set-management â€”-connection https://api.bodhi.space:4444
c:agent-cli set-management -v https://api.bodhi.space
c:agent-cli set-management -- verbose https://api.bodhi.space
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agent updated</td>
<td>the agent configuration file has be successfully updated</td>
</tr>
<tr>
<td>No agent available at <location></td>
<td>there is no agent configuration file at the specific location</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h5 id="diagnostic-commands">Diagnostic Commands</h5>

<p>Diagnostic commands are used by an administrator to troubleshoot an agent that is having trouble entering a running state or to test environmental specific details uniformly across platforms.</p>

<h6 id="check-core">check-core</h6>

<p>Used to retrieve information of the agent-core that is being used</p>

<ul>
<li>Displays the version of the current agent.</li>
<li>Displays the working directory of the current agent.</li>
</ul>
<pre class="highlight plaintext"><code>c:agent-cli check-core [options]
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli check-core
c:agent-cli check-core â€”h
c:agent-cli check-core â€”-help
</code></pre>

<h6 id="check-config">check-config</h6>

<p>Used to check for configuration problems in the agent. </p>

<ul>
<li>The agent will load and process all configuration files, </li>
<li>Displays agent apps that are installed</li>
<li>Will not cause agent to enter into a ready state. </li>
<li><strong>NOTE:</strong> This command is safe to run even if there is a agent currently running.</li>
</ul>
<pre class="highlight plaintext"><code>c:agent-cli check-config [options]
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>full filename</td>
<td>specifies the agent&rsquo;s configuration file to use</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;home</td>
<td>directory path</td>
<td>fully qualified path of the agent&rsquo;s working directory</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
<tr>
<td>-q</td>
<td>&ndash;quiet</td>
<td>none</td>
<td>prints only essential information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli check-config
c:agent-cli check-config â€”h
c:agent-cli check-config â€”-help
c:agent-cli check-config -f c:BodhiAgent\agent1.js
c:agent-cli check-config â€”-config c:\BodhiAgent\agent1.js
c:agent-cli check-config â€”-home c:\BodhiAgent
c:agent-cli check-config -v
c:agent-cli check-config â€”-verbose
c:agent-cli check-config -q
c:agent-cli check-config â€”-quiet
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="check-connection">check-connection</h6>

<p>Used to check for connection issues with an agent.</p>
<pre class="highlight plaintext"><code>c:agent-cli check-connection [options]
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli check-config
c:agent-cli check-config â€”h
c:agent-cli check-config â€”-help
</code></pre>

<p>The provided URL will go through the following checks:</p>

<ol>
<li>Check the URL format</li>
<li>Check the DNS resolution from the agent&rsquo;s host</li>
<li>Check the TCP port is reachable by opening up a connection on host:port</li>
<li>Issue a HTTP GET against the ping endpoint of the system</li>
</ol>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="check-route">check-route</h6>

<p>Used to check for network problems (firewalls &amp; proxy rules) from the perspective of the agent runtime. </p>
<pre class="highlight plaintext"><code>c:agent-cli check-route &lt;scheme://host:port/path&gt;
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli check-route http://localhost:4444/#/dashboard
c:agent-cli check-route â€”h
c:agent-cli check-route â€”-help
c:agent-cli check-route -v http://localhost:4444/#/dashboard
c:agent-cli check-route â€”-verbose http://localhost:4444/#/dashboard
</code></pre>

<p>The provided URL will go through the following checks:</p>

<ol>
<li>Check the URL format</li>
<li>Check the DNS resolution of host/IP</li>
<li>Check that the TCP port reachable by opening up a connection on host:port</li>
<li>If scheme is http of https then issue a HTTP GET against the specified URL</li>
</ol>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Got <a href="scheme://host:port/path">scheme://host:port/path</a></td>
<td>resolved the provided <a href="scheme://host:port/path">scheme://host:port/path</a></td>
</tr>
<tr>
<td>null unresolved</td>
<td>problem with the <a href="host:port/path">host:port/path</a></td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h5 id="usage-commands">Usage Commands</h5>

<h6 id="console">console</h6>

<p>Used to start the web console in the default browser that is set for the system. </p>
<pre class="highlight plaintext"><code>c:agent-cli console
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli console
c:agent-cli console -h
c:agent-cli console --help
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h5 id="configuration-commands">Configuration Commands</h5>

<h6 id="reset">reset</h6>

<p>Used to reset an agent&rsquo;s state by deleting the .agent file from the specified working directory.</p>
<pre class="highlight plaintext"><code>c:agent-cli reset [options]
</code></pre>

<p><strong>NOTE:</strong> Using this command will delete the .agent file which contains the agent&rsquo;s identity</p>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;home</td>
<td>directory</td>
<td>fully qualified path of the agent&rsquo;s working directory</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;force</td>
<td>none</td>
<td>forces the agent to reset regardless of start</td>
</tr>
<tr>
<td>-H</td>
<td>&ndash;HARD</td>
<td>none</td>
<td>forces the reset the name and namespace of an agent</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli reset
c:agent-cli reset -h
c:agent-cli reset --help
c:agent-cli reset --home c:\BodhiAgent
c:agent-cli reset -F
c:agent-cli reset -force
c:agent-cli reset -H
c:agent-cli reset -hard
c:agent-cli reset -v
c:agent-cli reset --verbose
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Agent reset</td>
<td>.agent file as been deleted</td>
</tr>
<tr>
<td>No agent available at working directory</td>
<td>agent.js file missing from the working directory</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="revoke">revoke</h6>

<p>Used to revoke an agent&rsquo;s access token.</p>

<ul>
<li><strong>NOTE:</strong> This command will leave all other agent data intact.</li>
</ul>
<pre class="highlight plaintext"><code>c:agent-cli revoke [options]
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;home</td>
<td>directory</td>
<td>fully qualified path of the agent&rsquo;s working directory</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli revoke
c:agent-cli revoke -h
c:agent-cli revoke --help
c:agent-cli revoke --home c:\BodhiAgent
c:agent-cli revoke -v
c:agent-cli revoke --verbose
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization revoke</td>
<td>the Authorization token as been removed</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="unassign">unassign</h6>

<p>Used to remove the agent&rsquo;s association to a namespace.</p>
<pre class="highlight plaintext"><code>c:agent-cli unassign [options]
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;home</td>
<td>directory</td>
<td>fully qualified path of the agent&rsquo;s working directory</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli unassign
c:agent-cli unassign -h
c:agent-cli unassign --help
c:agent-cli unassign --home c:\BodhiAgent
c:agent-cli unassign -v
c:agent-cli unassign --verbose
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>No agent available at working directory</td>
<td>agent.js file missing from the working directory</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="init">init</h6>

<p>Used to initialize or create the agent&rsquo;s configuration file.</p>
<pre class="highlight plaintext"><code>c:agent-cli init [options]
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>directory</td>
<td>fully qualified filename of the agent&rsquo;s configuration file</td>
</tr>
<tr>
<td>-F</td>
<td>&ndash;force</td>
<td>none</td>
<td>forces the creation of the agent.js</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli init
c:agent-cli init -h
c:agent-cli init --help
c:agent-cli init --config c:\BodhiAgent\agent.js
c:agent-cli init -f
c:agent-cli init --force
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Agent created</td>
<td>An agent configuration file as being created in the working directory</td>
</tr>
<tr>
<td>Agent already exist Use -F or &ndash;force to recreate</td>
<td>Configuration file already exists</td>
</tr>
<tr>
<td>serror: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="install-app">install-app</h6>

<p>Used to install an application into the agent.</p>
<pre class="highlight plaintext"><code>c:agent-cli install-app [options] &lt;app&gt;
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>directory</td>
<td>fully qualified filename of the agent&rsquo;s configuration file</td>
</tr>
<tr>
<td>-F</td>
<td>&ndash;force</td>
<td>none</td>
<td>forces the creation of the agent.js</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli install-app agent-app-weather
c:agent-cli install-app -h
c:agent-cli install-app --help
c:agent-cli install-app --f c:\BodhiAgent\agent.js
c:agent-cli install-app --config c:\BodhiAgent\agent.js
c:agent-cli install-app -v agent-app-weather
c:agent-cli install-app --verbose agent-app-weather
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Unable to locate the application [application]</td>
<td>Name is not found or is incorrect</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="install-ext">install-ext</h6>

<p>Used to install an extension into the agent.</p>
<pre class="highlight plaintext"><code>c:agent-cli install-ext [options] &lt;app&gt;
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-f</td>
<td>&ndash;config</td>
<td>directory</td>
<td>fully qualified filename of the agent&rsquo;s configuration file</td>
</tr>
<tr>
<td>-F</td>
<td>&ndash;force</td>
<td>none</td>
<td>forces the creation of the agent.js</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli install-ext agent-ext-csv-to-json
c:agent-cli install-ext -h
c:agent-cli install-ext --help
c:agent-cli install-ext --f c:\BodhiAgent\agent.js
c:agent-cli install-ext --config c:\BodhiAgent\agent.js
c:agent-cli install-ext -v agent-ext-csv-to-json
c:agent-cli install-ext --verbose agent-ext-csv-to-json
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Unable to locate the extension [extension]</td>
<td>Name is not found or is incorrect</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h5 id="update-commands">Update Commands</h5>

<h6 id="update-core">update-core</h6>

<p>Used to update to the latest version of the agent.</p>
<pre class="highlight plaintext"><code>c:agent-cli update-core [options]
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli update-core
c:agent-cli update-core -h
c:agent-cli update-core --help
c:agent-cli update-core -v
c:agent-cli update-core --verbose
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agent-core@x.x.x node_modules\agent-core</td>
<td>version number and location of the console module</td>
</tr>
<tr>
<td>agent-core updated</td>
<td>Agent core was successfully updated</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

<h6 id="update-console">update-console</h6>

<p>Used to update to the latest version of the web console.</p>
<pre class="highlight plaintext"><code>c:agent-cli update-console [options]
</code></pre>

<h6 id="options">Options</h6>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-h</td>
<td>&ndash;help</td>
<td>none</td>
<td>prints a descriptive list of the commands</td>
</tr>
<tr>
<td>-v</td>
<td>&ndash;verbose</td>
<td>none</td>
<td>prints more detailed information output</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>c:agent-cli update-console
c:agent-cli update-console -h
c:agent-cli update-console --help
c:agent-cli update-console -v
c:agent-cli update-console --verbose
</code></pre>

<h6 id="return-response">Return Response</h6>

<table><thead>
<tr>
<th>Response</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agent-console@x.x.x node_modules\agent-console</td>
<td>version number and location of the console module</td>
</tr>
<tr>
<td>agent-console updated</td>
<td>Agent console was successfully updated</td>
</tr>
<tr>
<td>error: unknown option &#39;option&rsquo;</td>
<td>Bad option</td>
</tr>
</tbody></table>

          <h1 id="command-line">Command Line</h1>

<h2 id="bodhi-cli">Bodhi CLI</h2>

<p>Bodhi CLI is a bundle of command lines that providing the tools to use Bodhi products. This bundle of commnds help users or developers to build, integrate and modify their environment within their space in the Bodhi cloud. Developer wanting to integrate into the Bodhi PaaS (Platform as a Service) and SaaS (Software as a Service) by:</p>

<ul>
<li>Building applications to the the Bodhi Cloud APIs</li>
<li>Building mobile/html applications either as standalone html applications or to be part of Bodhi Mobile</li>
<li>Building a data integration application into your point of sale system to be stored and accessed from our cloud solution</li>
</ul>

<p>will use this set of commands. </p>

<h3 id="command-tool">Command Tool</h3>

          <h2 id="bodhi-cli-tools">Bodhi CLI tools</h2>

<p>Command Line Tools for the Bodhi Cloud</p>

<h3 id="installation">Installation</h3>

<p>The cli tools require a nodejs runtime and are installed using the node package manager (npm).</p>
<pre class="highlight plaintext"><code>&gt; npm install -g bodhi-cli
</code></pre>

<p>Not that on *nix based systems and Macs, a global install command MUST be run using sudo.</p>

<p>One the tools are installed, verify the installation using the version command. The command SHOULD respond with a semantic version of the tools: M is the major version, m is the minor version, and b is the build increment.</p>
<pre class="highlight plaintext"><code>&gt; bodhi -V
  M.m.b
</code></pre>

<h3 id="getting-started">Getting Started</h3>

<ol>
<li>Create a directory for your workspace and <code class="prettyprint">cd</code> into it.</li>
<li><code class="prettyprint">bodhi init</code> <br> This will create a rbc-project.json which will house all your environment info. It will
also create an /apps directory where your apps will reside.</li>
<li><code class="prettyprint">bodhi new [ENVIRONMENT NAME]</code> This will create a new environment entry in rbc-project.json.</li>
<li>Open up rbc-project.json and fill in information about your new environment. <br>
Example: <br>
<code class="prettyprint">
{
 &quot;environments&quot;: {
       &quot;[ENVIRONMENT NAME]&quot;: {
           &quot;uri&quot;: &quot;[API ENDPOINT]&quot;,
           &quot;user&quot;: &quot;[USERNAME]&quot;,
           &quot;password&quot;: &quot;[PASSWORD]&quot;,
           &quot;namespace&quot;: &quot;[NAMESPACE]&quot;
      }
 },
 &quot;default&quot;: &quot;[ENVIRONMENT NAME]&quot;
}
</code>
Once you do this, all commands will be used under the default environment unless you specify otherwise with the -e flag.</li>
</ol>

<h3 id="general-str">General Str</h3>

<h5 id="common-usage">Common Usage</h5>
<pre class="highlight plaintext"><code>&lt;rbc-tool&gt; [options] &lt;command&gt; [arguments ..]
</code></pre>

<p>The first entry is the name of the tool. The second argument is the command. All further arguments are interpretted in the context of the command.</p>

<p>Options can be specified anywhere on the command line <strong>AFTER</strong> the tool designation. The following commands are considered equivalent.</p>
<pre class="highlight plaintext"><code>bodhi -e my-environment -v command
</code></pre>
<pre class="highlight plaintext"><code>bodhi -v command -e my-environment
</code></pre>
<pre class="highlight plaintext"><code>bodhi command -v -e my-environment
</code></pre>

<h5 id="processing-options">Processing Options</h5>

<p>The following switch are universal and have consistent semantics across the tools.</p>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>version</td>
<td>V</td>
<td>request the version of a tool</td>
</tr>
<tr>
<td>help</td>
<td>H</td>
<td>request help in the form of usage instructions</td>
</tr>
<tr>
<td>verbose</td>
<td>v</td>
<td>execute the command with intermediate output</td>
</tr>
<tr>
<td>debug</td>
<td>d</td>
<td>execute the command in debug mode</td>
</tr>
<tr>
<td>force</td>
<td>f</td>
<td>force the command to ignore saftey considerations</td>
</tr>
<tr>
<td>no-color</td>
<td>C</td>
<td>do not use color</td>
</tr>
</tbody></table>

<h3 id="project-commands">Project Commands</h3>

<ul>
<li>pwd</li>
<li>init</li>
</ul>

<h3 id="pwd">pwd</h3>

<p><strong>Aliases</strong>: <em>home</em></p>

<p>This command will print the home directory of the current project.</p>

<h5 id="arguments">Arguments</h5>

<p>None.</p>

<h5 id="return">Return</h5>

<p>Platform specific directory path of the current project.</p>

<h5 id="sample">Sample</h5>
<pre class="highlight plaintext"><code>&gt; bodhi pwd
/path/to/project/root
</code></pre>

<h3 id="init">init</h3>

<p>This command will establish the current directory as a new project by creating a new rbc-project.json file. This command will fail safely if an existing rbc-project.json file exists up the directory tree. A user may create a project in a subfolder by using the &ndash;force command line option.</p>
<pre class="highlight plaintext"><code>&gt; bodhi init [-f]
/path/to/new/project/root
</code></pre>

<h5 id="arguments">Arguments</h5>

<p>None.</p>

<h5 id="return">Return</h5>

<p>Platform specific directory path to the newly initialized project.</p>

<h3 id="environment-commands">Environment Commands</h3>

<h3 id="general-command-signature">General Command Signature</h3>
<pre class="highlight plaintext"><code>&gt; bodhi &lt;action&gt; &lt;environment&gt; [env-options] [processing-options]
</code></pre>

<h3 id="commands">Commands</h3>

<ul>
<li>new</li>
<li>rename</li>
<li>copy</li>
<li>edit</li>
<li>remove</li>
<li>set-default</li>
<li>get-default</li>
<li>list</li>
<li>view</li>
<li>whoami</li>
<li>whereami</li>
<li>uri</li>
<li>user</li>
<li>namespace</li>
</ul>

<h3 id="environment-options">Environment Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>uri</td>
<td>s</td>
<td>request help in the form of usage instructions</td>
</tr>
<tr>
<td>username</td>
<td>u</td>
<td>execute the command with intermediate output</td>
</tr>
<tr>
<td>password</td>
<td>p</td>
<td>execute the command in debug mode</td>
</tr>
<tr>
<td>namespace</td>
<td>n</td>
<td>force the command to ignore saftey considerations</td>
</tr>
</tbody></table>

<h3 id="new">new</h3>

<p><strong>Aliases</strong>: <em>create</em></p>

<p>This command will create a new environment in the project</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>environment name - the name of the environment to create</li>
</ol>

<h5 id="return">Return</h5>

<p>The name of the newly created environment</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; bodhi new &lt;env-name&gt; [env-options] [processing-options]
&lt;env-name&gt;
</code></pre>

<h3 id="rename">rename</h3>

<p><strong>Aliases</strong>: <em>mv</em>, <em>move</em></p>

<p>This command will rename an existing environment and optionally update its configuration if environment options are present.</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>from - the name of the environment to rename</li>
<li>to   - the new name for the environment</li>
</ol>

<h5 id="return">Return</h5>

<p>The new name of the existing environment</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; bodhi rename &lt;from&gt; &lt;to&gt; [env-options] [processing-options]
&lt;env-name&gt;
</code></pre>

<h3 id="copy">copy</h3>

<p><strong>Aliases</strong>: <em>cp</em>, <em>clone</em></p>

<p>This command will copy an existing environment and optionally update the copy with new setting if environment options are present.</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>from - the name of the environment to copy</li>
<li>to   - the name of the new environment</li>
</ol>

<h5 id="return">Return</h5>

<p>The new name of the newly created environment</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; bodhi copy &lt;from&gt; &lt;to&gt; [env-options] [processing-options]
&lt;from&gt;
</code></pre>

<h3 id="edit">edit</h3>

<p><strong>Aliases</strong>: <em>update</em>, <em>modify</em></p>

<p>This command changes an exiting environment&rsquo;s settings based on the environment options are supplied.</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>environment - the name of the environment to change</li>
</ol>

<h5 id="return">Return</h5>

<p>The name of the environment that was modified</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; bodhi edit &lt;environment&gt; [env-options] [processing-options]
&lt;env-name&gt;
</code></pre>

<h3 id="remove">remove</h3>

<p><strong>Aliases</strong>: <em>rm</em>, <em>del</em></p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>environment - the name of the environment to remove</li>
</ol>

<h5 id="return">Return</h5>

<p>The name of the environment that was removed</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; bodhi remove &lt;environment&gt; [env-options] [processing-options]
&lt;env-name&gt;
</code></pre>

<h3 id="set-default">set-default</h3>

<p>Establish the default environment to use for all remote commands.</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>environment - the name of the environment to be the default</li>
</ol>

<h5 id="return">Return</h5>

<p>The name of the environment that is now the default</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; bodhi set-default &lt;environment&gt; [processing-options]
&lt;environment&gt;
</code></pre>

<h3 id="get-default">get-default</h3>

<p>Print the default environment for the current project</p>

<h5 id="arguments">Arguments</h5>

<p>None</p>

<h5 id="return">Return</h5>

<p>The name of the default environment</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; bodhi get-default &lt;environment&gt; [processing-options]
&lt;environment&gt;
</code></pre>

<h3 id="list">list</h3>

<p><strong>Aliases</strong>: <em>ls</em>, <em>ll</em>, <em>dir</em></p>

<p>Print the names of a project&rsquo;s environments</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>environment - the name of the environment to remove</li>
</ol>

<h5 id="return">Return</h5>

<p>A JSON array containing the names</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; bodhi list &lt;environment&gt; [processing-options]
[
  "env",
  "env2"
]
</code></pre>

<h3 id="view">view</h3>

<p><strong>Aliases</strong>: <em>display</em>, <em>print</em>, <em>show</em>_</p>

<p>Print the structure of the named enviroment</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>environment - the name of the environment to remove</li>
</ol>

<h5 id="return">Return</h5>

<p>A JSON object representation of the current environment.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; bodhi view &lt;environment&gt; [processing-options]
{
  "uri":"uri",
  "user":"user",
  "password":"password",
  "namespace":"namespace",
}
</code></pre>

<h3 id="special-print-commands">Special Print Commands</h3>

<p>The following commands can be used to print/return a specific value of environment configuration.</p>

<table><thead>
<tr>
<th>command</th>
<th>prints</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>the name of the user</td>
</tr>
<tr>
<td>username</td>
<td>the name of the user</td>
</tr>
<tr>
<td>whoami</td>
<td>the name of the user</td>
</tr>
<tr>
<td>whereami</td>
<td>the base uri stem uri + namespace</td>
</tr>
<tr>
<td>uri</td>
<td>the envrionment&rsquo;s base uri</td>
</tr>
<tr>
<td>url</td>
<td>the envrionment&rsquo;s base uri</td>
</tr>
<tr>
<td>namespace</td>
<td>the envrionment&rsquo;s namespace</td>
</tr>
<tr>
<td>namespace</td>
<td>the envrionment&rsquo;s namespace</td>
</tr>
</tbody></table>

<h5 id="signatures">Signatures</h5>

<p>These commands have three possible signatures</p>

<p>Preferred</p>
<pre class="highlight plaintext"><code>&gt; bodhi &lt;cmd&gt; &lt;environment&gt; [processing-options]
</code></pre>

<p>Acceptable</p>
<pre class="highlight plaintext"><code>&gt; bodhi &lt;cmd&gt; -e &lt;environment-name&gt;
</code></pre>

<p>Default (uses the default environment if set)</p>
<pre class="highlight plaintext"><code>&gt; bodhi cmd
</code></pre>

<h4 id="rbc-types">rbc-types</h4>

<p>Basic command line tool for interacting with the RBC cloud services API</p>

<h5 id="installation-&amp;-setup">Installation &amp; Setup</h5>

<p>rbc-types is included in the bodhi as a separate executable. To verify the availability of the tool use</p>
<pre class="highlight plaintext"><code>&gt; rbc-types -V
M.m.b
</code></pre>

<ul>
<li>or -</li>
</ul>
<pre class="highlight plaintext"><code>&gt; rbc-types info
rbc-types v M.m.b
...
License Apache-2
Copyright 2014 Redbook Connect
</code></pre>

<h3 id="local-commands">Local Commands</h3>

<h5 id="usage">Usage</h5>

<h5 id="type-commands">Type Commands</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types &lt;cmd&gt; &lt;type-name&gt; [model-options]
</code></pre>

<h5 id="property-commands">Property Commands</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types &lt;cmd&gt; &lt;type-name&gt; [prop-options] &lt;property&gt; [propery ...]
</code></pre>

<h3 id="commands">Commands</h3>

<p>Local commands operate on JSON structures stored on the local filesystem.</p>

<table><thead>
<tr>
<th>command</th>
<th>aliases</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>new</td>
<td>create</td>
<td>create a new type</td>
</tr>
<tr>
<td>rename</td>
<td>move, mv</td>
<td>change the name of the type</td>
</tr>
<tr>
<td>edit</td>
<td>modify</td>
<td>edit the type metadata</td>
</tr>
<tr>
<td>remove</td>
<td>rm</td>
<td>remove a local type</td>
</tr>
<tr>
<td>view</td>
<td>print</td>
<td>print the local type definition</td>
</tr>
<tr>
<td>view-props</td>
<td></td>
<td>print all non-system properties of the type</td>
</tr>
<tr>
<td>set-prop</td>
<td></td>
<td>create or replate a property</td>
</tr>
<tr>
<td>mv-prop</td>
<td></td>
<td>rename an existing property</td>
</tr>
<tr>
<td>rm-prop</td>
<td></td>
<td>remove an existing property</td>
</tr>
<tr>
<td>gen-instance</td>
<td></td>
<td>generate a sample object based on the type</td>
</tr>
</tbody></table>

<h5 id="type-name">Type Name</h5>

<p>A typename is the just the system name for the type and not a file system name. The name SHOULD NOT include an directory information or the .json suffix when used by the commands.</p>

<h5 id="type-options">Type Options</h5>

<table><thead>
<tr>
<th>option</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>namespace</td>
<td>the namespace of the type</td>
</tr>
<tr>
<td>embedded</td>
<td>this type does is not stored independently</td>
</tr>
<tr>
<td>immutable</td>
<td>instances of this type do not support updates</td>
</tr>
<tr>
<td>encapsulated</td>
<td>this type does not support normal CRUD operations</td>
</tr>
<tr>
<td>extensible</td>
<td>this type may be extended</td>
</tr>
</tbody></table>

<h5 id="property-options">Property Options</h5>

<p>option     | short | meaning
&mdash;&ndash;      | ____  | &mdash;&mdash;&mdash;-
type       |       | the type associated with the property
required   | r     | property is required to have a value
multi      | r     | the property is multi valued (json array)
unique     | u     | the property contains a unique value within a collection
scale      | s     | how many decimal places should be kept
default    |       | the default value of the property if not set</p>

<h5 id="short-hand-types">Short Hand Types</h5>

<p>All system scalara have a special character designation to make them easier to describe. Those designators are listed below.</p>

<table><thead>
<tr>
<th>option</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>B</td>
<td>Boolean</td>
</tr>
<tr>
<td>I</td>
<td>Integer</td>
</tr>
<tr>
<td>R</td>
<td>Real</td>
</tr>
<tr>
<td>D</td>
<td>Decimal</td>
</tr>
<tr>
<td>C</td>
<td>Currency</td>
</tr>
<tr>
<td>S</td>
<td>String</td>
</tr>
<tr>
<td>T</td>
<td>DateTime</td>
</tr>
<tr>
<td>G</td>
<td>GeoJSON</td>
</tr>
<tr>
<td>L</td>
<td>Link</td>
</tr>
</tbody></table>

<h3 id="remote-commands">Remote Commands</h3>

<p>Remote commands operate on types store on an service installation. These commands share many of the same options as the http commands.</p>

<h5 id="usage">Usage</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types &lt;cmd&gt; &lt;type-name&gt; [env-options]
</code></pre>

<h5 id="commands">Commands</h5>

<table><thead>
<tr>
<th>command</th>
<th>aliases</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>list</td>
<td>ls</td>
<td>list all the types on the remote system</td>
</tr>
<tr>
<td>get</td>
<td>read</td>
<td>print a remote type</td>
</tr>
<tr>
<td>fetch</td>
<td>pull, download</td>
<td>fetch a remote type and store locally</td>
</tr>
<tr>
<td>post</td>
<td>push, upload</td>
<td>install a remote type on the server</td>
</tr>
<tr>
<td>delete</td>
<td>destroy</td>
<td>destroy the type on the system</td>
</tr>
<tr>
<td>listp</td>
<td>lp</td>
<td>list the properties of a remote</td>
</tr>
</tbody></table>

<h5 id="type-names">Type Names</h5>

<p>The typename is the just the name and not a partial url path. The user MUST assume that <code class="prettyprint">/namespace/type/</code> will be prepended to the name prior to sending the request. Any initial slash will be tolerated but is not required. Any additional path elements will be appended to the <code class="prettyprint">namespace/types/</code> prior to executing the request.</p>

<h5 id="options">Options</h5>

<p>All remote commands require an environment. These options behave consistently with those in the  If none is specifed then the command will use the default. If no default is set then to command will fail.</p>

<h3 id="command-details">Command Details</h3>

<h3 id="new">New</h3>

<p>Create a new type locally</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types new &lt;typename&gt; --namespace &lt;namespace&gt; [type-options]
</code></pre>

<h5 id="aliases">Aliases</h5>

<ol>
<li>create</li>
</ol>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename</li>
</ol>

<h5 id="options">Options</h5>

<ol>
<li>namespace is a required parameter</li>
</ol>

<h5 id="return">Return</h5>

<p>The name of the created model</p>

<h3 id="rename">Rename</h3>

<p>Rename an existing model.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types rename &lt;from&gt; &lt;to&gt;
</code></pre>

<h5 id="aliases">Aliases</h5>

<ol>
<li>mv</li>
<li>move</li>
</ol>

<h5 id="arguments">Arguments</h5>

<ol>
<li>from</li>
<li>to</li>
</ol>

<h5 id="return">Return</h5>

<p>The &lsquo;to&rsquo; name of the model</p>

<h3 id="edit">Edit</h3>

<p>Change the type&rsquo;s metadata</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types edit &lt;typename&gt; [type-options]
</code></pre>

<h5 id="aliases">Aliases</h5>

<ol>
<li>modify</li>
</ol>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - name of the type to be modified</li>
</ol>

<h5 id="return">Return</h5>

<p>The model&rsquo;s name</p>

<h3 id="remove">Remove</h3>

<p>Remove the model from the local filesystem.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types remove &lt;typename&gt;
</code></pre>

<h5 id="aliases">Aliases</h5>

<ol>
<li>rm</li>
</ol>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - name of the type to be removed</li>
</ol>

<h5 id="return">Return</h5>

<p>The removed model&rsquo;s name</p>

<h3 id="echo">Echo</h3>

<p>Print a type to the screen</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types echo &lt;typename&gt;
</code></pre>

<h5 id="aliases">Aliases</h5>

<ol>
<li>print</li>
</ol>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - name of the type to be printed</li>
</ol>

<h5 id="return">Return</h5>

<p>The model as a JSON object</p>

<h3 id="set-prop">Set-Prop</h3>

<p>Add or Replace a Property in a Type</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types set-prop &lt;typename&gt; [property-options] &lt;propertyName&gt;
</code></pre>

<h5 id="aliases">Aliases</h5>

<p>None</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - the name of the type</li>
<li>propertyName - the name of the property to add/replace</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename</p>

<h3 id="mv-prop">Mv-Prop</h3>

<p>Rename an existing property</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types mv-prop &lt;typename&gt; &lt;from&gt; &lt;to&gt;
</code></pre>

<h5 id="aliases">Aliases</h5>

<p>rename-prop</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - the name of the type that has the property</li>
<li>from - the existing property&rsquo;s name</li>
<li>to - the new property name</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename modified</p>

<h3 id="rm-prop">rm-Prop</h3>

<p>Remove an existing property</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types rm-prop &lt;typename&gt; &lt;propertyName&gt;
</code></pre>

<h5 id="aliases">Aliases</h5>

<p>remove-prop</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - the name of the type that has the property</li>
<li>propName - the name of the property to remove</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename modified</p>

<h3 id="gen-instance">gen-instance</h3>

<p>Generate a sample instance of the type</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types gen-instance &lt;typename&gt;
</code></pre>

<h5 id="aliases">Aliases</h5>

<p>None</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - the name of the type to be generated a insatnce from</li>
</ol>

<h5 id="return">Return</h5>

<p>Prints a sample instance as a JSON object</p>

<h3 id="fetch">fetch</h3>

<p>Download and store a copy of a type</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types [env-options] fetch &lt;typename&gt;
</code></pre>

<h5 id="aliases">Aliases</h5>

<p>download, pull</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename modified</p>

<h3 id="get">get</h3>

<p>Print a type stored on the server</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types [env-options] get &lt;typename&gt;
</code></pre>

<h5 id="aliases">Aliases</h5>

<p>read</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename modified</p>

<h3 id="list">list</h3>

<p>List all the types on the server for the environment</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types [env-options] list
</code></pre>

<h5 id="aliases">Aliases</h5>

<p>ll</p>

<h5 id="arguments">Arguments</h5>

<p>None</p>

<h5 id="return">Return</h5>

<p>A JSON array of the current remote types for the environment</p>

<h3 id="delete">delete</h3>

<p>Destroys a remote type</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types [env-options] delete &lt;typename&gt;
</code></pre>

<h5 id="aliases">Aliases</h5>

<p>destroy</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - the type to be deleted</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename deleted</p>

<h3 id="post">post</h3>

<p>Posts a local type definition to the remote server</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; rbc-types [env-options] post &lt;typename&gt;
</code></pre>

<h5 id="aliases">Aliases</h5>

<p>upload, push</p>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - the name of the type to be sent to the server</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename posted</p>

<h4 id="app-tools">app-tools</h4>

<p>app-tools is a command line tool, bundled with bodhi-cli, that allows app developers to quickly generate
an app and publish it to the cloud so that it can be viewed on the mobile container.</p>

<h3 id="local-commands">Local Commands</h3>

<h3 id="app-creation-commands">App Creation Commands</h3>

<h5 id="new-app">new-app</h5>

<p>Creates a new app skeleton in /apps folder based on the type of skeleton app specified. </p>

<p>Notes:</p>

<ul>
<li>App name must be unique to the namespace.</li>
<li>The app&rsquo;s profile name is the same as the app name.</li>
<li>Once app name and profile name has been specified, it cannot be changed.</li>
</ul>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools new-app &lt;app-name&gt; [meta-data-options] [env-options]
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>app name</li>
</ol>

<h5 id="options">Options</h5>

<p>See environment options above (environment options are only needed for app-generator).</p>

<p>Meta Data Options:</p>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>t</td>
<td>custom (default), app generator, angular</td>
<td>specifies the type of skeleton project to create</td>
</tr>
<tr>
<td>model</td>
<td>m</td>
<td>resource type</td>
<td>specifies the resource type for the app generator function</td>
</tr>
</tbody></table>

<h5 id="return">Return</h5>

<p>None.</p>

<h5 id="custom-app">Custom App</h5>

<p>Creates a custom app skeleton in /apps/&lt;app-name&gt;.
The custom app skeleton just has the required files needed to publish the app.</p>
<pre class="highlight plaintext"><code>&gt; app-tools new-app &lt;app-name&gt; [meta-data-options]
</code></pre>

<h5 id="angular-app">Angular App</h5>

<p>Creates an angular app skeleton in /apps/&lt;app-name&gt;.</p>
<pre class="highlight plaintext"><code>&gt; app-tools new-app &lt;app-name&gt; -t angular [meta-data-options]
</code></pre>

<h5 id="app-generator">App Generator</h5>

<p>Creates a list-detail app based on the specified type (-m). The app will list the 20 most recent records fo the specified type. The user can then drill down and see the record in more detail. </p>

<p>Notes:</p>

<ul>
<li>Environment information is used to grab the type definition remotely from the environment&rsquo;s namespace.</li>
<li>The model with the select action (specified by the -m flag) will be added to the profile definition upon app creation.</li>
</ul>
<pre class="highlight plaintext"><code>&gt; app-tools new-app &lt;app-name&gt; -t app-generator -m &lt;type name&gt; [meta-data-options] [env-options]
</code></pre>

<h3 id="profile-definition-commands">Profile Definition Commands</h3>

<p>The following commands allow the user to edit/view the local profile definition. When the user publishes the app, the cloud will create a unique profile (profile name will be the same as the app name) specifically for this app. Any user with this profile will then be able to use this app.</p>

<h5 id="profile-action-options">Profile Action Options</h5>

<table><thead>
<tr>
<th>long</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>select</td>
<td>select action allowed on type</td>
</tr>
<tr>
<td>update</td>
<td>update action allowed on type</td>
</tr>
<tr>
<td>delete</td>
<td>delete action allowed on type</td>
</tr>
<tr>
<td>insert</td>
<td>insert action allowed on type</td>
</tr>
<tr>
<td>aggregate</td>
<td>aggregate action allowed on type</td>
</tr>
</tbody></table>

<h5 id="view-profile-def">view-profile-def</h5>

<p>View the local app profile definition.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools view-profile-def
</code></pre>

<h5 id="arguments">Arguments</h5>

<p>None.</p>

<h5 id="options">Options</h5>

<p>None.</p>

<h5 id="return">Return</h5>

<p>The local app profile definition.</p>

<h5 id="add-type-to-profile">add-type-to-profile</h5>

<p>Add a type and its allowed actions to the local app profile definition. If the type already exists, it will overwrite it. Application type cannot be edited.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools add-type-to-profile &lt;type&gt; [profile-action-options]
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>type</li>
</ol>

<h5 id="options">Options</h5>

<p>See profile action options above.</p>

<h5 id="return">Return</h5>

<p>The local app profile definition.</p>

<h5 id="remove-type-from-profile">remove-type-from-profile</h5>

<p>Remove a type from the local app profile definition. Application type cannot be removed.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools remove-type-from-profile &lt;type&gt;
</code></pre>

<h6 id="arguments">Arguments</h6>

<ol>
<li>type</li>
</ol>

<h5 id="options">Options</h5>

<p>None.</p>

<h5 id="return">Return</h5>

<p>The local app profile definition.</p>

<h3 id="app-metadata-commands">App Metadata Commands</h3>

<h5 id="edit-title">edit-title</h5>

<p>Edit the app title.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools edit-title &lt;title&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>title</li>
</ol>

<h5 id="options">Options</h5>

<p>None.</p>

<h5 id="return">Return</h5>

<p>Message stating the title has been changed to &lt;title&gt;.</p>

<h5 id="view-title">view-title</h5>

<p>View the app title.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools view-title
</code></pre>

<h5 id="arguments">Arguments</h5>

<p>None.</p>

<h5 id="options">Options</h5>

<p>None.</p>

<h5 id="return">Return</h5>

<p>The app title.</p>

<h5 id="edit-description">edit-description</h5>

<p>Edit the app description.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools edit-description &lt;description&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>description</li>
</ol>

<h5 id="options">Options</h5>

<p>None.</p>

<h5 id="return">Return</h5>

<p>Message stating description has been changed to &lt;description&gt;.</p>

<h5 id="view-description">view-description</h5>

<p>View the app description.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools view-description
</code></pre>

<h5 id="arguments">Arguments</h5>

<p>None.</p>

<h5 id="options">Options</h5>

<p>None.</p>

<h5 id="return">Return</h5>

<p>The app description.</p>

<h5 id="edit-version">edit-version</h5>

<p>Edit the app version.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools edit-version &lt;version&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>version</li>
</ol>

<h5 id="options">Options</h5>

<p>None.</p>

<h5 id="return">Return</h5>

<p>Message stating the app version has been changed to &lt;version&gt;.</p>

<h5 id="view-version">view-version</h5>

<p>View the app version.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools view-version
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>version</li>
</ol>

<h5 id="options">Options</h5>

<p>None.</p>

<h5 id="return">Return</h5>

<p>The app version.</p>

<h3 id="remote-commands">Remote Commands</h3>

<h3 id="app-publishing-commands">App Publishing Commands</h3>

<h5 id="publish-app">publish-app</h5>

<p>Publishes the app to the namespace specified by the environment or to the global app store if the -g flag is specified. This command must be run in the app folder.</p>

<p>Notes:</p>

<ul>
<li>Publish-ready app files must be located in a /www folder in the root of the app directory so that the publish-app command can zip it up and send it to the cloud.</li>
<li>Need to have version, name, profile, and title specified in the package.json when publishing (use the app metadata commands and profile commands above to do this).</li>
<li>LICENSE, index.html, and package.json are required and must be located in the root of the app directory.</li>
<li>Only users with the admin profile are allowed to publish apps.</li>
<li>Max zip file size is 20mb.</li>
<li>Max number of files is 1024.</li>
<li>On publish, the cloud creates the profile specified by the package.json&rsquo;s profile definition and then assigns the profile to the developer who published the app.</li>
<li>If autoVersionUpdate flag in package.json is set to true, each publish will bump up the patch version of the app.</li>
<li>If you want to publish the app globally, the app must already be published in your custom namespace.</li>
</ul>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools publish-app [env-options]
</code></pre>

<h5 id="arguments">Arguments</h5>

<p>None.</p>

<h5 id="options">Options</h5>

<p>See environment options above.</p>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>global</td>
<td>g</td>
<td></td>
<td>publish to global namespace</td>
</tr>
</tbody></table>

<h5 id="return">Return</h5>

<p>Message stating the app has been published, profile has been created and assigned to the developer who published it.</p>

<h3 id="app-removing-commands">App Removing Commands</h3>

<h5 id="remove-app">remove-app</h5>

<p>Remove app from the cloud.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools remove-app &lt;app-name&gt; [env-options]
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>app name</li>
</ol>

<h5 id="options">Options</h5>

<p>See environment options above.</p>

<h5 id="return">Return</h5>

<p>Message stating the app has been successfully removed.</p>

<h3 id="global-app-instalation/update-commands">Global App Instalation/Update Commands</h3>

<h5 id="install-app">install-app</h5>

<p>Install a global app into a custom namespace.</p>

<p>Note:</p>

<ul>
<li>&ndash;name flag is optional. If name is not specified, it defaults to the original name specified by the publisher (ex. if the app&rsquo;s global name is testNamespace.appname, appname will be the name given to the app in your namespace).</li>
<li>An app can be installed into a namespace multiple times as long as the name given to the app (specified by the &ndash;name flag) is unique.</li>
</ul>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools install-app &lt;global app name&gt; --name &lt;app name&gt; [env-options]
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>global app name</li>
</ol>

<h5 id="options">Options</h5>

<p>See environment options above.</p>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td></td>
<td></td>
<td>unique name of the app for your namespace</td>
</tr>
</tbody></table>

<h5 id="return">Return</h5>

<p>The metadata for the newly installed global app.</p>

<h5 id="update-app">update-app</h5>

<p>Update an already installed global app.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools update-app &lt;app-name&gt; [env-options]
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>app name</li>
</ol>

<h5 id="options">Options</h5>

<p>See environment options above.</p>

<h5 id="return">Return</h5>

<p>The metadata for the updated global app.</p>

<h3 id="informational-commands">Informational Commands</h3>

<p>Get data about the deployed app from the cloud.</p>

<h5 id="list-apps">list-apps</h5>

<p>This command lists all the apps that you can see in your specified environment that are currently deployed in the cloud. If the -g flag is specified, the command lists all the global apps available for you to install.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools list-apps -g [env-options]
</code></pre>

<h5 id="arguments">Arguments</h5>

<p>None.</p>

<h5 id="options">Options</h5>

<p>See environment options above.</p>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>global</td>
<td>g</td>
<td></td>
<td>list the global apps</td>
</tr>
</tbody></table>

<h5 id="return">Return</h5>

<p>A list of apps currently in your namespace or if the -g flag is specified the apps currently in the global store. Each app entry will show its meta data.</p>

<h3 id="profile-commands">Profile Commands</h3>

<p>Remote commands dealing with the profile associated with the deployed app.</p>

<h5 id="assign-profile-to-user">assign-profile-to-user</h5>

<p>Assign the deployed app&rsquo;s profile to an existing user in the cloud.</p>

<h5 id="signature">Signature</h5>
<pre class="highlight plaintext"><code>&gt; app-tools assign-profile-to-user &lt;username&gt; --name &lt;app-name&gt; [env-options]
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>username</li>
</ol>

<h5 id="options">Options</h5>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td></td>
<td>app name</td>
<td>Name of the app&rsquo;s profile you wish to assign the user.</td>
</tr>
</tbody></table>

<p>See environment options above.</p>

<h5 id="return">Return</h5>

<p>Message stating the specified app&rsquo;s profile has been assigned to the specified user.</p>

          <h1 id="bodhi-mobile">Bodhi Mobile</h1>

<h2 id="overview">Overview</h2>

<p>Mobile Container API</p>

<p>The Mobile API provides application developers access to native device features for use in web applications. These features are typically unavailable in the HTML5 specification, not uniformly supported across all mobile browsers or improve on the orginal HTML5 spec. In some cases new features have been added that combine several device characteristics into one, for example bar code scanning uses camera storage and image recognition.</p>

<p>There is only one API required to deliver applications on Android, iOs or Windows phones.</p>

<p>The Bodhi Mobile API provides interface to the native features of a mobile device across 3 platforms. iOS, Android, and Windows Phone/</p>

<p>See descriptions and info below:: (For full implementation details, see our detailed docs on <a href="http://mobileapi.bodhi.space">Bodhi Mobile API</a></p>

          <h2 id="getting-started">Getting Started</h2>

<p>Bodhi Mobile is a mobile application than allows users to access their data on any mobile device.</p>

<p>With the Bodhi Mobile for iPhone and iPad, you can access Bodhi applications for restaurants, anywhere, anytime. The mobile app lets employees, managers and executives stay informed about their restaurant operations, sales and labor activities. </p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
