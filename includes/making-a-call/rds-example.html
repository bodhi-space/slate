<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <link href="../../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="../../javascripts/all_nosearch.js" type="text/javascript"></script>

  </head>

  <body class="includes includes_making-a-call includes_making-a-call_rds-example">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a class="bodhi-logo" href="http://docs.bodhi.space"> <img src="../../images/logo.png" /> </a>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h2 id="working-with-macromatix-data">Working with Macromatix Data</h2>

<h3 id="mx-rds-api">MX RDS API</h3>

<p>The mxrds api provides a RESTful way to access data stored in Macromatix RDS database</p>

<h4 id="access-control">Access Control</h4>

<p>A Bearer Token is required to make calls to the service, ask the team to generate one for you</p>

<h4 id="store-endpoints">Store endpoints</h4>

<p>Returns store information as well as store roster</p>

<h5 id="get-all-stores">Get all stores</h5>

<p><code class="prettyprint">
GET https://api.mxrds.io/&lt;namespace&gt;/stores
</code>
ie.
<code class="prettyprint">
curl -H &#39;Authorization:Bearer &lt;admin-token&gt;&#39; https://api.mxrds.io/&lt;namespace&gt;/stores
</code></p>

<h5 id="get-store-by-store-id">Get store by store id</h5>

<p><code class="prettyprint">
GET https://api.mxrds.io/&lt;namespace&gt;/stores/&lt;store-id&gt;
</code>
ie.
<code class="prettyprint">
curl -H &#39;Authorization:Bearer &lt;admin-token&gt;&#39; https://api.mxrds.io/&lt;namespace&gt;/stores/&lt;store-id&gt;
</code></p>

<h5 id="get-store-roster">Get store roster</h5>

<p><code class="prettyprint">
GET https://api.mxrds.io/&lt;namespace&gt;/stores/&lt;store-id&gt;/roster
</code>
ie.
<code class="prettyprint">
curl -H &#39;Authorization:Bearer &lt;admin-token&gt;&#39; https://api.mxrds.io/&lt;namespace&gt;/stores/&lt;store-id&gt;/roster
</code></p>

<h4 id="employee-endpoints">Employee endpoints</h4>

<p>Returns employee information</p>

<h5 id="get-all-employees">Get all employees</h5>

<p><code class="prettyprint">
GET https://api.mxrds.io/&lt;namespace&gt;/employees
</code>
ie.
<code class="prettyprint">
curl -H &#39;Authorization:Bearer &lt;admin-token&gt;&#39; https://api.mxrds.io/&lt;namespace&gt;/employees
</code></p>

<h5 id="get-employee-by-employee-id">Get employee by employee id</h5>

<p><code class="prettyprint">
GET https://api.mxrds.io/&lt;namespace&gt;/employees/&lt;employee-id&gt;
</code>
ie.
<code class="prettyprint">
curl -H &#39;Authorization:Bearer &lt;admin-token&gt;&#39; https://api.mxrds.io/&lt;namespace&gt;/employees
</code></p>

<h4 id="calendar-endpoints">Calendar endpoints</h4>

<p>Returns the fiscal calendar</p>

<h5 id="get-fiscal-calendar-by-year">Get fiscal calendar by year</h5>

<p><code class="prettyprint">
GET https://api.mxrds.io/&lt;namespace&gt;/calendar/&lt;year&gt;
</code>
ie.
<code class="prettyprint">
curl -H &#39;Authorization:Bearer &lt;admin-token&gt;&#39; https://api.mxrds.io/&lt;namespace&gt;/calendar/&lt;year&gt;
</code></p>

<h4 id="resources-endpoints">Resources endpoints</h4>

<p>Returns resources filtered by store id and date of business</p>

<h5 id="get-resource-by-store-id-and-date-of-business">Get resource by store id and date of business</h5>

<p>Store is required, DOB will use the current day if not specified</p>

<p><code class="prettyprint">
GET https://api.mxrds.io/&lt;namespace&gt;/resources/&lt;resource&gt;?store=&lt;store-id&gt;&amp;dob=&lt;yyyy-mm-dd&gt;
</code></p>

<h5 id="list-of-resources">List of resources</h5>

<p>/inventorywaste<br>
/inventorytransfer<br>
/inventorycount<br>
/forecast<br>
/salesitemforecast<br>
/inventoryforecast<br>
/roster<br>
/salestransaction<br>
/salesitem<br>
/salestransactiondiscount
/transactiontender<br>
/salesitemvoid<br>
/depletion<br>
/schedule<br>
/timecards<br>
/paidinpaidout<br>
/settlement<br>
/storesettlementdetails  </p>

<h4 id="admin-endpoints">Admin endpoints</h4>

<p>These endpoints can only be accessed by the mxrds api admin, they are meant to add or update customer configurations</p>

<h5 id="new-user-config">New user config</h5>

<p><code class="prettyprint">
POST https://api.mxrds.io/&lt;namespace&gt;/settings
</code>
ie.
<code class="prettyprint">
curl -X POST -H &#39;Content-Type:application/json&#39; -H &#39;Authorization:Bearer &lt;admin-token&gt;&#39; https://api.mxrds.io/&lt;namespace&gt;/settings -d &#39;{&quot;token&quot;:&quot;&lt;bearer-token&gt;&quot;,&quot;host&quot;:&quot;&lt;rds-host&gt;&quot;,&quot;port&quot;:&lt;rds-port&gt;,&quot;database&quot;:&quot;&lt;database&gt;&quot;}&#39;
</code></p>

<h6 id="#response">#response</h6>

<p><code class="prettyprint">
Code 201
</code></p>

<h5 id="update-existing-config">Update existing config</h5>

<p><code class="prettyprint">
PUT https://api.mxrds.io/&lt;namespace&gt;/settings
</code>
ie.
<code class="prettyprint">
curl -X PUT -H &#39;Content-Type:application/json&#39; -H &#39;Authorization:Bearer &lt;admin-token&gt;&#39; https://api.mxrds.io/&lt;namespace&gt;/settings -d &#39;{&quot;token&quot;:&quot;&lt;bearer-token&gt;&quot;,&quot;host&quot;:&quot;&lt;rds-host&gt;&quot;,&quot;port&quot;:&lt;rds-port&gt;,&quot;database&quot;:&quot;&lt;database&gt;&quot;}&#39;
</code></p>

<h6 id="#response">#response</h6>

<p><code class="prettyprint">
Code 204 
</code></p>

<h5 id="get-existing-config">Get existing config</h5>

<p><code class="prettyprint">
GET https://api.mxrds.io/&lt;namespace&gt;/settings
</code>
ie.
<code class="prettyprint">
curl -H &#39;Authorization:Bearer &lt;admin-token&gt;&#39; https://api.mxrds.io/&lt;namespace&gt;/settings
</code></p>

<h6 id="#response">#response</h6>

<p><code class="prettyprint">
Code 200 {
  token: &lt;token&gt;,
  host: &lt;host&gt;,
  port: &lt;port&gt;,
  database: &lt;database&gt;
}
</code></p>

<h4 id="public-endpoints">Public endpoints</h4>

<p>The following endpoints are the only ones that do not require bearer token authorization</p>

<h5 id="healthcheck">Healthcheck</h5>

<p><code class="prettyprint">
GET https://api.mxrds.io/
</code>
ie.
<code class="prettyprint">
curl https://api.mxrds.io/
</code></p>

<h6 id="#response">#response</h6>

<p><code class="prettyprint">
Code 200
Response {
  ping: true
}
</code></p>

<h5 id="app-info">App Info</h5>

<p>Returns the name and version of the app
<code class="prettyprint">
GET https://api.mxrds.io/info
</code>
ie.
<code class="prettyprint">
curl https://api.mxrds.io/info
</code></p>

<h6 id="#response">#response</h6>

<p><code class="prettyprint">
Code 200
Response {
  &quot;name&quot;:&quot;&lt;app-name&gt;&quot;,
  &quot;version&quot;:&quot;&lt;version&gt;&quot;
}
</code></p>

<h5 id="facts">Facts</h5>

<p>Returns the system and environment information
<code class="prettyprint">
GET https://api.mxrds.io/facts
</code>
ie.
<code class="prettyprint">
curl https://api.mxrds.io/facts
</code></p>

<h6 id="#response">#response</h6>

<p><code class="prettyprint">
Code 200
Response ie. {
    &quot;os&quot;: &quot;Linux&quot;,
    &quot;isWindows&quot;: false,
    &quot;isMac&quot;: false,
    &quot;isLinux&quot;: true,
    &quot;isBSD&quot;: false,
    &quot;isSolaris&quot;: false,
    &quot;platform&quot;: &quot;linux/4.4.8-20.46.amzn1.x86_64&quot;,
    &quot;title&quot;: &quot;rds-api&quot;,
    &quot;pid&quot;: 16849,
    &quot;hostname&quot;: &quot;ip-172-31-10-180&quot;,
    &quot;arch&quot;: &quot;x64&quot;,
    &quot;cpu&quot;: &quot;Intel(R) Xeon(R) CPU E5-2650 0 @ 2.00GHz&quot;,
    &quot;speed&quot;: 1795,
    &quot;cores&quot;: 1,
    &quot;ram&quot;: 605.948,
    &quot;cwd&quot;: &quot;/var/app/current&quot;,
    &quot;main&quot;: &quot;/var/app/current/index.js&quot;,
    &quot;paths&quot;: [&quot;/var/app/current/node_modules&quot;, &quot;/var/app/node_modules&quot;, &quot;/var/node_modules&quot;, &quot;/node_modules&quot;],
    &quot;process&quot;: &quot;node/v4.4.3&quot;,
    &quot;node_env&quot;: &quot;not-set&quot;,
    &quot;startedAt&quot;: &quot;2016-06-14T23:02:19.021Z&quot;
}
</code></p>

<h4 id="getsalesitem">getSalesItem</h4>

<h5 id="request">Request</h5>

<p><code class="prettyprint">curl -H &#39;&lt;bearer_toke&gt;&#39; https://api.mxrds.io/walmart/resources/salesitem?store=1&amp;dob=2016-06-24</code></p>

<h5 id="response">Response</h5>

<p><code class="prettyprint">[{  &quot;storeid&quot;: &quot;1&quot;,
    &quot;businessday&quot;: &quot;2016-06-24T00:00:00.000Z&quot;,  
    &quot;itemcode&quot;: &quot;Undefined&quot;,
    &quot;description&quot;: &quot;All undefined sales items&quot;,
    &quot;postransactionid&quot;: &quot;1221&quot;,
    &quot;registernumber&quot;: 4,
    &quot;clerkkey&quot;: &quot;3141414&quot;,
    &quot;clerkname&quot;: &quot;Brandon&quot;,
    &quot;clerkid&quot;: null,
    &quot;amount&quot;: &quot;0.0000&quot;,
    &quot;quantity&quot;: 1,
    &quot;tax&quot;: &quot;0.0000&quot;,
    &quot;salescost&quot;: &quot;0.0000&quot;
}, {
    &quot;storeid&quot;: &quot;1&quot;,
    &quot;businessday&quot;: &quot;2016-06-24T00:00:00.000Z&quot;,
    &quot;itemcode&quot;: &quot;52791&quot;,
    &quot;description&quot;: &quot;Green Bns Sm&quot;,
    &quot;postransactionid&quot;: &quot;01011991&quot;,
    &quot;registernumber&quot;: 4,
    &quot;clerkkey&quot;: &quot;28928&quot;,
    &quot;clerkname&quot;: &quot;Brandon&quot;,
    &quot;clerkid&quot;: null,
    &quot;amount&quot;: &quot;0.0000&quot;,
    &quot;quantity&quot;: 1,
    &quot;tax&quot;: &quot;0.0000&quot;,
    &quot;salescost&quot;: &quot;0.1129&quot;
}]</code></p>

<h4 id="getsalesitemforecast">getSalesItemForecast</h4>

<h5 id="request">Request</h5>

<p><code class="prettyprint">curl -H &#39;Authorization:Bearer eyJhbGciOiJIUzI1NiJ9.cmRzLWFwaS1rZmNsdmw.AMtNZJfooodidisise6QbpxyBHytmU7RQqhZQD4nVO_Y&#39; &quot;https://api.mxrds.io/walmart/resources/salesitemforecast?store=1&amp;dob=2016-06-24&quot;</code></p>

<h5 id="response">Response</h5>

<p><code class="prettyprint">[{
    &quot;description&quot;: &quot;All undefined sales items&quot;,
    &quot;itemcode&quot;: &quot;Undefined&quot;,
    &quot;intervalstart&quot;: &quot;2016-06-24T10:30:00.000Z&quot;,
    &quot;storeid&quot;: &quot;23232&quot;,
    &quot;businessday&quot;: &quot;2016-06-24T00:00:00.000Z&quot;,
    &quot;raw_forecast&quot;: 2,
    &quot;system_forecast&quot;: 2,
    &quot;user_forecast&quot;: 2
}, {
    &quot;description&quot;: &quot;Or foo&quot;,
    &quot;itemcode&quot;: &quot;232323&quot;,
    &quot;intervalstart&quot;: &quot;2016-06-24T10:30:00.000Z&quot;,
    &quot;storeid&quot;: &quot;23233&quot;,
    &quot;businessday&quot;: &quot;2016-06-24T00:00:00.000Z&quot;,
    &quot;raw_forecast&quot;: 0.6,
    &quot;system_forecast&quot;: 1,
    &quot;user_forecast&quot;: 1
}, {
    &quot;description&quot;: &quot;Or stuff&quot;,
    &quot;itemcode&quot;: &quot;12121&quot;,
    &quot;intervalstart&quot;: &quot;2016-06-24T10:30:00.000Z&quot;,
    &quot;storeid&quot;: &quot;179&quot;,
    &quot;businessday&quot;: &quot;2016-06-24T00:00:00.000Z&quot;,
    &quot;raw_forecast&quot;: 0.6,
    &quot;system_forecast&quot;: 1,
    &quot;user_forecast&quot;: 1
}]</code></p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
