<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <link href="../../../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../../../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="../../../javascripts/all_nosearch.js" type="text/javascript"></script>

  </head>

  <body class="includes includes_bodhicloud includes_bodhicloud_howto includes_bodhicloud_howto_CreatingTypesTutorial">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a class="bodhi-logo" href="http://bodhi-space.github.io/slate/"> <img src="../../../images/logo.png" /> </a>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h4 id="how-do-i-create-a-new-type">How Do I Create A New Type</h4>

<p>========</p>

<h5 id="overview">Overview</h5>

<p>The Bodhi Cloud API is extensible meaning that if you find you need to store your data in a way that the Bodhi APIs do not provide, you can create as many new types as per your requirements and needs.  Bodhi&rsquo;s base and systems types can also be changed and extended depending on your requirements and needs.  These are powerful features with a rich tool set to easily add or extend types for your namespace.  </p>

<h5 id="getting-started">Getting Started</h5>

<p>The goal of this tutorial is to show how to use the 4 Methods/Tools that Bodhi provides to extend your namespace to store your data in ways that fit your business needs.  </p>

<h6 id="prerequisites">Prerequisites</h6>

<p>In order to be able to complete this tutorial for all 4 tools, you will need to be an admin user of your namespace which is provided by your Hot Schedules representative.  You  will be given your credentials (username and password) which is assigned to a particular namespace which is where you will make the changes to the Hot Schedules types.  Please login to each of the tools prior to starting the section.</p>

<h5 id="how-to-create-a-new-type-using-bodhi-api-documentation">How To Create a new type using Bodhi API Documentation</h5>

<p>The Bodhi API Documentation is a full featured interactive set of documentation that also allows the user to Create, Update, and Delete using the REST APIs for each type.  This tutorial is intended to both allow the user to get familiar with how the Bodhi API Documentation as well as the minimum requirements to create a type, view that type through the Bodhi API Documentation and finally delete that type through the Bodhi API Documentation.  </p>

<p>1.Go to <a href="https://api.bodhi.space/apidocs/index.html">https://api.bodhi.space/apidocs/index.html</a></p>

<p>2.Login using the credentials provided to you from your Hot Schedules Representative and click Explore.  <em>NOTE:</em> See <a href="http://docs.bodhi.space/#bodhi-cloud-api-tutorials">How Do I login to the Bodhi Cloud API Documentation</a> for more details on logging in.</p>

<p>3.Onced logged in, scroll down through the apidocs and click on Type: </p>

<p><img alt="CloudAPI_ClickType" src="../../../images/CloudAPI_ClickType.png?raw=true" /></p>

<p><em>Creating a new type, Click Type</em></p>

<p>4.Click Post /resource/Types:</p>

<p><img alt="CloudAPI_ClickPost" src="../../../images/CloudAPI_ClickPost.png?raw=true" /> </p>

<p><em>Creating a new type, Click Post</em></p>

<p>5.Click inside the Model Schema box and it will automatically populate the Value box:</p>

<p><img alt="CloudAPI_ClickModelSchema" src="../../../images/CloudAPI_ClickModelSchema.png?raw=true" /></p>

<p><em>Creating a new type, Click Model Schema box</em></p>

<p>6.Click the Model to show all the parameters to this API and remove all the optional parameters.  </p>

<p><img alt="CloudAPI_ClickPost" src="../../../images/CloudAPI_ClickModel.png?raw=true" /></p>

<p><em>Creating a new type, Click Model</em></p>
<pre class="highlight plaintext"><code>Type {
embedded (boolean, optional),
regex (string, optional),
package (string, optional),
name (string),
indexes (object, optional),
documentation (Array[Link, optional),
interface (object, optional),
immutable (boolean, optional),
version (string),
properties (object),
extensible (boolean, optional),
views (object, optional),
metadata (boolean, optional),
storage_name (string),
extension_types (object, optional),
events (object, optional),
encapsulated (boolean, optional),
namespace (string)
}
</code></pre>

<p>7.This will leave you with the following:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyNewType"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"isNotBlank"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"trim"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"employment_period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DatePeriod"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"store_number"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Integer"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
  </span><span class="s2">"storage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NewNewType"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your Namespace&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>_Note:  &ldquo;isNotBlank&rdquo; is a validation, &ldquo;trim&rdquo; is a pre-processing command (it removes white spaces around the string before inserting), &ldquo;DatePeriod&rdquo; is an embedded document.</p>

<p>8.Change the Random String as follows:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyNewType"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"isNotBlank"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"trim"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"employment_period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DatePeriod"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"store_number"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Integer"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
  </span><span class="s2">"storage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NewNewType"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your Namespace&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>_Note: Your Namespace is the name of the namespace that your HotSchedules representative provided you and autofills when you Login to the <a href="https://api.bodhi.space/apidocs/index.html">Bodhi Cloud API docs</a></p>

<p><img alt="CloudAPI_ClickPost" src="../../../images/CloudAPI_NamespaceAutofills.png?raw=true" /></p>

<p><em>Creating a new type, Namespace Auto Fills</em></p>

<p>9.Once you have the new type defined as you want it by adding attributes to the json object of the properties.  For this tutorial, I am going add the following properties/attribute to the MyNewType Object:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyNewType"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"isNotBlank"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"trim"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"employment_period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DatePeriod"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"store_number"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Integer"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
  </span><span class="s2">"storage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NewNewType"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your Namespace&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>NOTE: Make sure you replace Your Namespace and the brackets before clicking Try it out!</em></p>

<p>10.Click Try it out!
Once you have the properties object as you want it with it&rsquo;s JSON attributes and properties, yhou can click Try it out!  This will actually create the new type and you can add data to it immediately.</p>

<p><img alt="CloudAPI_ClickTypePostTryitout" src="../../../images/CloudAPI_ClickTypePostTryitout.png?raw=true" /></p>

<p><em>Creating a new type, Click Try it out!</em></p>

<p>You should see a Response Code 201 like this:
<img alt="CloudAPI_ResponseCode201" src="../../../images/CloudAPI_ResponseCode201.png?raw=true" /></p>

<p><em>Creating a new type, Response Code 201</em></p>

<p>11.Click on your new type
Types are stored alphabetically in the Cloud API Documentation so if you scroll up or down from Type, you will see your new type show up in the Cloud API Documentation and you can then post data to your new type, modify by doing a Put operations or any other rest api function you wish to use.</p>

<p><img alt="CloudAPI_ClickMyNewType" src="../../../images/CloudAPI_ClickMyNewType.png?raw=true" /></p>

<p><em>Creating a new type, Click MyNewType</em></p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
