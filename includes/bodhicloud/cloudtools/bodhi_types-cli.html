<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <link href="../../../images/favicon.ico" rel="icon" type="image/ico" />
    <link href="../../../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../../../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="../../../javascripts/all_nosearch.js" type="text/javascript"></script>

  </head>

  <body class="includes includes_bodhicloud includes_bodhicloud_cloudtools includes_bodhicloud_cloudtools_bodhi_types-cli">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a class="bodhi-logo" href="http://docs.bodhi.space"> <img src="../../../images/logo.png" /> </a>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h4 id="bodhi-cli-types">Bodhi CLI types</h4>

<p>Bodhi-types is a command line tool bundled with bodhi-cli, that allows developers to interact with the RBC cloud services API.</p>

<h3 id="installation-&amp;-setup">Installation &amp; Setup</h3>

<p>bodhi-types is included in the bodhi as a separate executable. To verify the availability of the tool use the following commands;</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types -V
M.m.b
</code></pre>

<ul>
<li>or -</li>
</ul>
<pre class="highlight plaintext"><code>&gt; bodhi-types info
bodhi-types v M.m.b
...
License Apache-2
Copyright 2014 Redbook Connect
</code></pre>

<h3 id="arguments">Arguments</h3>

<p>The first entry is the name of the tool. The second argument is the command. All subsequent arguments are command specific.</p>

<h3 id="command-organization">Command Organization</h3>

<p>The commands are grouped into two main sub groups.
The following Commands groups are;</p>

<h3 id="local-commands">Local Commands</h3>

<ul>
<li>new<br></li>
<li>rename<br></li>
<li>remove<br></li>
<li>view<br></li>
<li>view-props</li>
<li>set-prop</li>
<li>mv-prop</li>
<li>rm-prop</li>
<li>gen-instance</li>
</ul>

<h3 id="remote-commands">Remote Commands</h3>

<ul>
<li>list</li>
<li>get</li>
<li>fetch</li>
<li>post</li>
<li>delete</li>
</ul>

<h3 id="local-commands">Local Commands</h3>

<p><strong>NOTE:</strong> Local commands operate on JSON structures stored on the local filesystem.</p>

<h5 id="type-commands">Type Commands</h5>
<pre class="highlight plaintext"><code>&gt; bodhi-types &lt;cmd&gt; &lt;type-name&gt; [model-options]
</code></pre>

<h5 id="property-commands">Property Commands</h5>
<pre class="highlight plaintext"><code>&gt; bodhi-types &lt;cmd&gt; &lt;type-name&gt; [prop-options] &lt;property&gt; [property ...]
</code></pre>

<h3 id="local-commands">Local Commands</h3>

<table><thead>
<tr>
<th>new</th>
<th>create</th>
<th>create a new type</th>
</tr>
</thead><tbody>
<tr>
<td>rename</td>
<td>move, mv</td>
<td>change the name of the type</td>
</tr>
<tr>
<td>edit</td>
<td>modify</td>
<td>edit the type metadata</td>
</tr>
<tr>
<td>remove</td>
<td>rm</td>
<td>remove a local type</td>
</tr>
<tr>
<td>view</td>
<td>print</td>
<td>print the local type definition</td>
</tr>
<tr>
<td>view-props</td>
<td></td>
<td>print all non-system properties of the type</td>
</tr>
<tr>
<td>set-prop</td>
<td></td>
<td>create or replate a property</td>
</tr>
<tr>
<td>mv-prop</td>
<td></td>
<td>rename an existing property</td>
</tr>
<tr>
<td>rm-prop</td>
<td></td>
<td>remove an existing property</td>
</tr>
<tr>
<td>gen-instance</td>
<td></td>
<td>remove an existing property</td>
</tr>
</tbody></table>

<h5 id="type-name">Type Name</h5>

<p>A typename is the just the system name for the type and not a file system name. The name SHOULD NOT include an directory information or the .json suffix when used by the commands.</p>

<h5 id="type-options">Type Options</h5>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>none</td>
<td>&ndash;namespace</td>
<td>the namespace of the type</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;embedded</td>
<td>this type does is not stored independently</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;immutable</td>
<td>instances of this type do not support updates</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;encapsulated</td>
<td>this type does not support normal CRUD operations</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;extensible</td>
<td>this type may be extended</td>
</tr>
</tbody></table>

<h5 id="short-hand-types">Short Hand Types</h5>

<p>All system scalara have a special character designation to make them easier to describe. Those designators are listed below.</p>

<table><thead>
<tr>
<th>option</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>B</td>
<td>Boolean</td>
</tr>
<tr>
<td>I</td>
<td>Integer</td>
</tr>
<tr>
<td>R</td>
<td>Real</td>
</tr>
<tr>
<td>D</td>
<td>Decimal</td>
</tr>
<tr>
<td>C</td>
<td>Currency</td>
</tr>
<tr>
<td>S</td>
<td>String</td>
</tr>
<tr>
<td>T</td>
<td>DateTime</td>
</tr>
<tr>
<td>G</td>
<td>GeoJSON</td>
</tr>
<tr>
<td>L</td>
<td>Link</td>
</tr>
</tbody></table>

<h3 id="local-commands">Local Commands</h3>

<ul>
<li>new<br></li>
<li>rename<br></li>
<li>remove<br></li>
<li>view<br></li>
<li>view-props</li>
<li>set-prop</li>
<li>mv-prop</li>
<li>rm-prop</li>
<li>gen-instance</li>
</ul>

<h3 id="new">new</h3>

<p><strong>Aliases</strong>: <em>create</em></p>

<p>Create a new type locally</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types new &lt;typename&gt; 
</code></pre>

<h5 id="arguments">Arguments</h5>

<table><thead>
<tr>
<th style="text-align: center">arg</th>
<th style="text-align: center">type-options</th>
<th style="text-align: center">description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">typename</td>
<td style="text-align: center">type-options</td>
<td style="text-align: center">returns the new type name</td>
</tr>
</tbody></table>

<h5 id="options">Options</h5>

<table><thead>
<tr>
<th style="text-align: center">type-options</th>
<th style="text-align: center">arg</th>
<th style="text-align: left">description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">none</td>
<td style="text-align: center">none</td>
<td style="text-align: left">none</td>
</tr>
</tbody></table>

<h5 id="return-response">Return Response</h5>

<table><thead>
<tr>
<th style="text-align: left">Response</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">created the type name</td>
<td style="text-align: left">The name of the created type</td>
</tr>
</tbody></table>

<h3 id="rename">rename</h3>

<p><strong>Aliases</strong>: <em>move</em>, <em>mv</em></p>

<p>Rename an existing model from the current name to a new name.</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types rename &lt;from&gt; &lt;to&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<table><thead>
<tr>
<th style="text-align: center">arg1</th>
<th style="text-align: center">arg2</th>
<th style="text-align: center">type-options</th>
<th style="text-align: left">description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">from</td>
<td style="text-align: center">to</td>
<td style="text-align: center">type-options</td>
<td style="text-align: left">rename an existing model</td>
</tr>
</tbody></table>

<h5 id="options">Options</h5>

<table><thead>
<tr>
<th style="text-align: center">type-options</th>
<th style="text-align: left">description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">none</td>
<td style="text-align: left">none</td>
</tr>
</tbody></table>

<h5 id="return-response">Return Response</h5>

<table><thead>
<tr>
<th style="text-align: left">Response</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">the to [arg2]</td>
<td style="text-align: left">The new name of the type</td>
</tr>
<tr>
<td style="text-align: left">failed to load local type [arg1]</td>
<td style="text-align: left">can not find local type</td>
</tr>
</tbody></table>

<h3 id="edit">edit</h3>

<p><strong>Aliases</strong>: <em>modify</em></p>

<p>Change the type&rsquo;s metadata</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types edit &lt;typename&gt; [type-options]
</code></pre>

<h5 id="arguments">Arguments</h5>

<table><thead>
<tr>
<th style="text-align: center">arg1</th>
<th style="text-align: center">type-options</th>
<th style="text-align: center">description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">typename</td>
<td style="text-align: center">type-options</td>
<td style="text-align: center">name of the type to be modified</td>
</tr>
</tbody></table>

<h5 id="type-options">type-Options</h5>

<table><thead>
<tr>
<th>short</th>
<th>long</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>none</td>
<td>&ndash;namespace</td>
<td>the namespace of the type</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;embedded</td>
<td>this type does is not stored independently</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;immutable</td>
<td>instances of this type do not support updates</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;encapsulated</td>
<td>this type does not support normal CRUD operations</td>
</tr>
<tr>
<td>none</td>
<td>&ndash;extensible</td>
<td>this type may be extended</td>
</tr>
</tbody></table>

<h5 id="return-response">Return Response</h5>

<table><thead>
<tr>
<th style="text-align: left">Response</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">the typename</td>
<td style="text-align: left">The Model&rsquo;s name</td>
</tr>
</tbody></table>

<h3 id="remove">remove</h3>

<p><strong>Aliases</strong>: <em>rm</em></p>

<p>Remove the model from the local filesystem.</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types remove &lt;typename&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<table><thead>
<tr>
<th style="text-align: center">arg</th>
<th style="text-align: left">description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">typename</td>
<td style="text-align: left">name of the type to be removed</td>
</tr>
</tbody></table>

<h5 id="return-response">Return Response</h5>

<table><thead>
<tr>
<th style="text-align: left">Response</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">model name</td>
<td style="text-align: left">The removed model&rsquo;s name</td>
</tr>
</tbody></table>

<h3 id="view">view</h3>

<p><strong>Aliases</strong>: <em>print</em></p>

<p>Print a type to the screen</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types view &lt;typename&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<table><thead>
<tr>
<th style="text-align: center">arg</th>
<th style="text-align: left">description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">typename</td>
<td style="text-align: left">name of the type to be printed</td>
</tr>
</tbody></table>

<h5 id="return-response">Return Response</h5>

<table><thead>
<tr>
<th style="text-align: left">Response</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">json object</td>
<td style="text-align: left">The model as a JSON object</td>
</tr>
</tbody></table>

<p>{ name: &lsquo;freddy&rsquo;, storage_name: &#39;freddy&rsquo;, properties: {} }</p>

<h5 id="property-commands">Property Commands</h5>
<pre class="highlight plaintext"><code>&gt; bodhi-types &lt;cmd&gt; &lt;type-name&gt; [prop-options] &lt;property&gt; [property ...]
</code></pre>

<h5 id="property-options">Property Options</h5>

<table><thead>
<tr>
<th style="text-align: left">short</th>
<th style="text-align: center">long</th>
<th style="text-align: left">meaning</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">none</td>
<td style="text-align: center">&ndash;type</td>
<td style="text-align: left">the type associated with the property</td>
</tr>
<tr>
<td style="text-align: left">-r</td>
<td style="text-align: center">&ndash;required</td>
<td style="text-align: left">property is required to have a value</td>
</tr>
<tr>
<td style="text-align: left">none</td>
<td style="text-align: center">&ndash;multi</td>
<td style="text-align: left">the property is multi valued (json array)</td>
</tr>
<tr>
<td style="text-align: left">-u</td>
<td style="text-align: center">&ndash;unique</td>
<td style="text-align: left">the property contains a unique value within a collection</td>
</tr>
<tr>
<td style="text-align: left">-s</td>
<td style="text-align: center">&ndash;scale</td>
<td style="text-align: left">how many decimal places should be kept</td>
</tr>
<tr>
<td style="text-align: left">none</td>
<td style="text-align: center">&ndash;default</td>
<td style="text-align: left">the default value of the property if not set</td>
</tr>
</tbody></table>

<h3 id="set-prop">set-prop</h3>

<p><strong>Aliases</strong>: </p>

<p>Add or Replace a Property in a Type</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types set-prop &lt;typename&gt; [property-options] &lt;propertyName&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<p>arg1  |  arg2 | description
:&mdash;&mdash;:| :&mdash;&mdash;&mdash;&mdash;-
typename | property name | the name of the type and the property to be added or modified</p>

<h5 id="return-response">Return Response</h5>

<table><thead>
<tr>
<th style="text-align: left">Response</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">typename</td>
<td style="text-align: left">the name of the type</td>
</tr>
</tbody></table>

<h3 id="mv-prop">mv-prop</h3>

<p><strong>Aliases</strong>: <em>rename-prop</em></p>

<p>Rename an existing property</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types mv-prop &lt;typename&gt; &lt;from&gt; &lt;to&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<p>arg1  |  arg2 | arg3 | description
:&mdash;&mdash;:| :&mdash;&mdash;&mdash;&mdash;-
typename | the existing property&rsquo;s name | the new property name | rename the property of type to new property name</p>

<h5 id="return-response">Return Response</h5>

<table><thead>
<tr>
<th style="text-align: left">Response</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">typename</td>
<td style="text-align: left">the name of the type modified</td>
</tr>
</tbody></table>

<h3 id="rm-prop">rm-prop</h3>

<p><strong>Aliases</strong>: <em>remove-prop</em></p>

<p>Remove an existing property</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types rm-prop &lt;typename&gt; &lt;propertyName&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - the name of the type that has the property</li>
<li>propName - the name of the property to remove</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename modified</p>

<h3 id="gen-instance">gen-instance</h3>

<p><strong>Aliases</strong>: </p>

<p>Generate a sample instance of the type</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types gen-instance &lt;typename&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - the name of the type to be generated a insatnce from</li>
</ol>

<h5 id="return">Return</h5>

<p>Prints a sample instance as a JSON object</p>

<h3 id="remote-commands">Remote Commands</h3>

<p>Remote commands operate on types store on an service installation. These commands share many of the same options as the http commands.</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types &lt;cmd&gt; &lt;type-name&gt; [env-options]
</code></pre>

<h5 id="commands">Commands</h5>

<table><thead>
<tr>
<th>command</th>
<th>aliases</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>list</td>
<td>ls</td>
<td>list all the types on the remote system</td>
</tr>
<tr>
<td>get</td>
<td>read</td>
<td>print a remote type</td>
</tr>
<tr>
<td>fetch</td>
<td>pull, download</td>
<td>fetch a remote type and store locally</td>
</tr>
<tr>
<td>post</td>
<td>push, upload</td>
<td>install a remote type on the server</td>
</tr>
<tr>
<td>delete</td>
<td>destroy</td>
<td>destroy the type on the system</td>
</tr>
<tr>
<td></td>
<td>lp</td>
<td>list the properties of a remote</td>
</tr>
</tbody></table>

<h5 id="type-names">Type Names</h5>

<p>The typename is just the name and not a partial url path. The user MUST assume that <code class="prettyprint">/namespace/type/</code> will be prepended to the name prior to sending the request. Any initial slash will be tolerated but is not required. Any additional path elements will be appended to the <code class="prettyprint">namespace/types/</code> prior to executing the request.</p>

<h5 id="options">Options</h5>

<p>All remote commands require an environment. These options behave consistently with those in the  If none is specifed then the command will use the default. If no default is set then the command will fail.</p>

<h3 id="list">list</h3>

<p><strong>Aliases</strong>: <em>ll</em></p>

<p>List all the types on the server for the environment</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types [env-options] list
</code></pre>

<h5 id="arguments">Arguments</h5>

<p>None</p>

<h5 id="return">Return</h5>

<p>A JSON array of the current remote types for the environment</p>

<h3 id="fetch">fetch</h3>

<p><strong>Aliases</strong>: <em>download</em>, <em>pull</em></p>

<p>Download and store a copy of a type</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types [env-options] fetch &lt;typename&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename modified</p>

<h3 id="get">get</h3>

<p><strong>Aliases</strong>: <em>read</em></p>

<p>Print a type stored on the server</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types [env-options] get &lt;typename&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename modified</p>

<h3 id="delete">delete</h3>

<p><strong>Aliases</strong>: <em>destroy</em></p>

<p>Destroys a remote type</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types [env-options] delete &lt;typename&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - the type to be deleted</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename deleted</p>

<h3 id="post">post</h3>

<p><strong>Aliases</strong>: <em>upload</em>, <em>push</em></p>

<p>Posts a local type definition to the remote server</p>
<pre class="highlight plaintext"><code>&gt; bodhi-types [env-options] post &lt;typename&gt;
</code></pre>

<h5 id="arguments">Arguments</h5>

<ol>
<li>typename - the name of the type to be sent to the server</li>
</ol>

<h5 id="return">Return</h5>

<p>The typename posted</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
